<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 4 Data Transformation 2: More One and Two Table Verbs | Introduction to R</title>
  <meta name="description" content="This is the course handbook for the Glasgow University Open Studies course Introduction to R, academic session 2019-2020." />
  <meta name="generator" content="bookdown 0.25 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 4 Data Transformation 2: More One and Two Table Verbs | Introduction to R" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="This is the course handbook for the Glasgow University Open Studies course Introduction to R, academic session 2019-2020." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 4 Data Transformation 2: More One and Two Table Verbs | Introduction to R" />
  
  <meta name="twitter:description" content="This is the course handbook for the Glasgow University Open Studies course Introduction to R, academic session 2019-2020." />
  

<meta name="author" content="Gaby Mahrholz, Greta Todorova, Wilhelmiina Toivo, and Jaimie Torrance" />


<meta name="date" content="2022-03-29" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="data-transformation-1-basic-one-table-verbs.html"/>
<link rel="next" href="data-transformation-3-tidy-data.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Introduction to R</a></li>

<li class="divider"></li>
<li><a href="index.html#about-this-course">About this course<span></span></a>
<ul>
<li><a href="index.html#intended-learning-outcomes">Intended Learning Outcomes<span></span></a></li>
<li><a href="index.html#what-will-i-need-to-complete-this-course">What will I need to complete this course?<span></span></a></li>
<li><a href="index.html#about-the-assessments">About the Assessments<span></span></a>
<ul>
<li><a href="index.html#formative-assessments">Formative Assessments<span></span></a></li>
<li><a href="index.html#summative-assessments">Summative Assessments<span></span></a></li>
<li><a href="index.html#late-submissions-extensions">Late submissions &amp; extensions<span></span></a></li>
<li><a href="index.html#how-to-submit-your-assessments">How to Submit Your Assessments<span></span></a></li>
</ul></li>
<li><a href="index.html#assistance">Assistance<span></span></a></li>
<li><a href="index.html#why-are-these-materials-open">Why are these materials open?<span></span></a></li>
<li><a href="index.html#acknowledgement">Acknowledgement<span></span></a></li>
</ul></li>
<li><a href="before.html#before">Assignment before starting the course<span></span></a>
<ul>
<li class="chapter" data-level="0.1" data-path="before.html"><a href="before.html"><i class="fa fa-check"></i><b>0.1</b> Access to RStudio<span></span></a>
<ul>
<li class="chapter" data-level="0.1.1" data-path="before.html"><a href="before.html#install"><i class="fa fa-check"></i><b>0.1.1</b> Installing R and RStudio on Your Own Machine<span></span></a></li>
<li class="chapter" data-level="0.1.2" data-path="before.html"><a href="before.html#accessing-rstudio-on-university-computers"><i class="fa fa-check"></i><b>0.1.2</b> Accessing RStudio on University Computers<span></span></a></li>
<li class="chapter" data-level="0.1.3" data-path="before.html"><a href="before.html#using-rstudio-cloud"><i class="fa fa-check"></i><b>0.1.3</b> Using RStudio Cloud<span></span></a></li>
</ul></li>
<li class="chapter" data-level="0.2" data-path="before.html"><a href="before.html#maximising-reproducibility-and-visibility"><i class="fa fa-check"></i><b>0.2</b> Maximising Reproducibility and Visibility<span></span></a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction<span></span></a>
<ul>
<li><a href="introduction.html#intended-learning-outcomes-1">Intended Learning Outcomes<span></span></a></li>
<li class="chapter" data-level="1.1" data-path="introduction.html"><a href="introduction.html#computer-literacy-basics"><i class="fa fa-check"></i><b>1.1</b> Computer Literacy Basics<span></span></a></li>
<li class="chapter" data-level="1.2" data-path="introduction.html"><a href="introduction.html#r-and-r-studio"><i class="fa fa-check"></i><b>1.2</b> R and R Studio<span></span></a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="introduction.html"><a href="introduction.html#r"><i class="fa fa-check"></i><b>1.2.1</b> R<span></span></a></li>
<li class="chapter" data-level="1.2.2" data-path="introduction.html"><a href="introduction.html#rstudio-ide"><i class="fa fa-check"></i><b>1.2.2</b> RStudio IDE<span></span></a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="introduction.html"><a href="introduction.html#r-r-studio-and-associated-file-types"><i class="fa fa-check"></i><b>1.3</b> R, R Studio and Associated File Types<span></span></a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="introduction.html"><a href="introduction.html#file-structuredirectories"><i class="fa fa-check"></i><b>1.3.1</b> File Structure/Directories<span></span></a></li>
<li class="chapter" data-level="1.3.2" data-path="introduction.html"><a href="introduction.html#file-extensions"><i class="fa fa-check"></i><b>1.3.2</b> File Extensions<span></span></a></li>
<li class="chapter" data-level="1.3.3" data-path="introduction.html"><a href="introduction.html#zip-files"><i class="fa fa-check"></i><b>1.3.3</b> .zip Files<span></span></a></li>
<li class="chapter" data-level="1.3.4" data-path="introduction.html"><a href="introduction.html#rstudio-specific-files"><i class="fa fa-check"></i><b>1.3.4</b> RStudio Specific Files<span></span></a></li>
<li class="chapter" data-level="1.3.5" data-path="introduction.html"><a href="introduction.html#r-files"><i class="fa fa-check"></i><b>1.3.5</b> .r Files<span></span></a></li>
<li class="chapter" data-level="1.3.6" data-path="introduction.html"><a href="introduction.html#rmd-files"><i class="fa fa-check"></i><b>1.3.6</b> .Rmd files<span></span></a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="introduction.html"><a href="introduction.html#comments"><i class="fa fa-check"></i><b>1.4</b> Comments<span></span></a></li>
<li class="chapter" data-level="1.5" data-path="introduction.html"><a href="introduction.html#saving-your-file"><i class="fa fa-check"></i><b>1.5</b> Saving your file<span></span></a></li>
<li class="chapter" data-level="1.6" data-path="introduction.html"><a href="introduction.html#sessions"><i class="fa fa-check"></i><b>1.6</b> Sessions<span></span></a>
<ul>
<li class="chapter" data-level="1.6.1" data-path="introduction.html"><a href="introduction.html#what-is-a-session-in-r"><i class="fa fa-check"></i><b>1.6.1</b> What is a session in R?<span></span></a></li>
<li class="chapter" data-level="1.6.2" data-path="introduction.html"><a href="introduction.html#restarting-your-current-session"><i class="fa fa-check"></i><b>1.6.2</b> Restarting Your Current Session<span></span></a></li>
</ul></li>
<li class="chapter" data-level="1.7" data-path="introduction.html"><a href="introduction.html#packages"><i class="fa fa-check"></i><b>1.7</b> Packages<span></span></a>
<ul>
<li class="chapter" data-level="1.7.1" data-path="introduction.html"><a href="introduction.html#installing-packages"><i class="fa fa-check"></i><b>1.7.1</b> Installing Packages<span></span></a></li>
<li class="chapter" data-level="1.7.2" data-path="introduction.html"><a href="introduction.html#load-tidyverse"><i class="fa fa-check"></i><b>1.7.2</b> Loading Packages<span></span></a></li>
</ul></li>
<li class="chapter" data-level="1.8" data-path="introduction.html"><a href="introduction.html#functions"><i class="fa fa-check"></i><b>1.8</b> Functions<span></span></a>
<ul>
<li class="chapter" data-level="1.8.1" data-path="introduction.html"><a href="introduction.html#what-is-a-function"><i class="fa fa-check"></i><b>1.8.1</b> What is a function?<span></span></a></li>
<li class="chapter" data-level="1.8.2" data-path="introduction.html"><a href="introduction.html#the-anatomy-of-a-function-names-and-arguments"><i class="fa fa-check"></i><b>1.8.2</b> The Anatomy of a Function: names and arguments<span></span></a></li>
</ul></li>
<li class="chapter" data-level="1.9" data-path="introduction.html"><a href="introduction.html#formative-homework"><i class="fa fa-check"></i><b>1.9</b> Formative Homework<span></span></a>
<ul>
<li class="chapter" data-level="1.9.1" data-path="introduction.html"><a href="introduction.html#install-r-and-rstudio-on-your-personal-computer"><i class="fa fa-check"></i><b>1.9.1</b> Install R and RStudio on your personal computer<span></span></a></li>
<li class="chapter" data-level="1.9.2" data-path="introduction.html"><a href="introduction.html#installing-and-loading-tidyverse"><i class="fa fa-check"></i><b>1.9.2</b> Installing and Loading tidyverse<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="introduction-to-data.html"><a href="introduction-to-data.html"><i class="fa fa-check"></i><b>2</b> Introduction to Data<span></span></a>
<ul>
<li><a href="introduction-to-data.html#intended-learning-outcomes-2">Intended Learning Outcomes<span></span></a></li>
<li class="chapter" data-level="2.1" data-path="introduction-to-data.html"><a href="introduction-to-data.html#pre-steps"><i class="fa fa-check"></i><b>2.1</b> Pre-Steps<span></span></a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="introduction-to-data.html"><a href="introduction-to-data.html#downloading-materials"><i class="fa fa-check"></i><b>2.1.1</b> Downloading materials<span></span></a></li>
<li class="chapter" data-level="2.1.2" data-path="introduction-to-data.html"><a href="introduction-to-data.html#unzipping-the-zip-folder"><i class="fa fa-check"></i><b>2.1.2</b> Unzipping the zip folder<span></span></a></li>
<li class="chapter" data-level="2.1.3" data-path="introduction-to-data.html"><a href="introduction-to-data.html#setting-the-working-directory"><i class="fa fa-check"></i><b>2.1.3</b> Setting the working directory<span></span></a></li>
<li class="chapter" data-level="2.1.4" data-path="introduction-to-data.html"><a href="introduction-to-data.html#load-tidyverse-into-the-library"><i class="fa fa-check"></i><b>2.1.4</b> Load tidyverse into the library<span></span></a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="introduction-to-data.html"><a href="introduction-to-data.html#basic-data-types"><i class="fa fa-check"></i><b>2.2</b> Basic data types<span></span></a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="introduction-to-data.html"><a href="introduction-to-data.html#character"><i class="fa fa-check"></i><b>2.2.1</b> Character<span></span></a></li>
<li class="chapter" data-level="2.2.2" data-path="introduction-to-data.html"><a href="introduction-to-data.html#numeric"><i class="fa fa-check"></i><b>2.2.2</b> Numeric<span></span></a></li>
<li class="chapter" data-level="2.2.3" data-path="introduction-to-data.html"><a href="introduction-to-data.html#logical"><i class="fa fa-check"></i><b>2.2.3</b> Logical<span></span></a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="introduction-to-data.html"><a href="introduction-to-data.html#vectors"><i class="fa fa-check"></i><b>2.3</b> Vectors<span></span></a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="introduction-to-data.html"><a href="introduction-to-data.html#creating-vectors"><i class="fa fa-check"></i><b>2.3.1</b> Creating vectors<span></span></a></li>
<li class="chapter" data-level="2.3.2" data-path="introduction-to-data.html"><a href="introduction-to-data.html#converting-vectors-into-different-data-types-of-vectors-aka-funky-things-we-can-do"><i class="fa fa-check"></i><b>2.3.2</b> Converting vectors into different data types of vectors aka funky things we can do<span></span></a></li>
<li class="chapter" data-level="2.3.3" data-path="introduction-to-data.html"><a href="introduction-to-data.html#adding-elements-to-existing-vectors"><i class="fa fa-check"></i><b>2.3.3</b> Adding elements to existing vectors<span></span></a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="introduction-to-data.html"><a href="introduction-to-data.html#tibble---the-new-way-of-creating-a-dataframe"><i class="fa fa-check"></i><b>2.4</b> Tibble - the new way of creating a dataframe<span></span></a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="introduction-to-data.html"><a href="introduction-to-data.html#what-the-heck-is-a-tibble-do-you-mean-table"><i class="fa fa-check"></i><b>2.4.1</b> What the heck is a tibble? Do you mean table?<span></span></a></li>
<li class="chapter" data-level="2.4.2" data-path="introduction-to-data.html"><a href="introduction-to-data.html#how-to-make-a-tibble-from-scratch"><i class="fa fa-check"></i><b>2.4.2</b> How to make a tibble from scratch<span></span></a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="introduction-to-data.html"><a href="introduction-to-data.html#reading-in-data"><i class="fa fa-check"></i><b>2.5</b> Reading in data<span></span></a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="introduction-to-data.html"><a href="introduction-to-data.html#from-pre-existing-databases"><i class="fa fa-check"></i><b>2.5.1</b> from pre-existing databases<span></span></a></li>
<li class="chapter" data-level="2.5.2" data-path="introduction-to-data.html"><a href="introduction-to-data.html#from-existing-data-files"><i class="fa fa-check"></i><b>2.5.2</b> from existing data files<span></span></a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="introduction-to-data.html"><a href="introduction-to-data.html#last-point-for-today"><i class="fa fa-check"></i><b>2.6</b> Last point for today<span></span></a></li>
<li class="chapter" data-level="2.7" data-path="introduction-to-data.html"><a href="introduction-to-data.html#summative-homework"><i class="fa fa-check"></i><b>2.7</b> Summative Homework<span></span></a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data-transformation-1-basic-one-table-verbs.html"><a href="data-transformation-1-basic-one-table-verbs.html"><i class="fa fa-check"></i><b>3</b> Data Transformation 1: Basic One Table Verbs<span></span></a>
<ul>
<li><a href="data-transformation-1-basic-one-table-verbs.html#intended-learning-outcomes-3">Intended Learning Outcomes<span></span></a></li>
<li class="chapter" data-level="3.1" data-path="data-transformation-1-basic-one-table-verbs.html"><a href="data-transformation-1-basic-one-table-verbs.html#data-wrangling"><i class="fa fa-check"></i><b>3.1</b> Data Wrangling<span></span></a></li>
<li class="chapter" data-level="3.2" data-path="data-transformation-1-basic-one-table-verbs.html"><a href="data-transformation-1-basic-one-table-verbs.html#pre-steps-1"><i class="fa fa-check"></i><b>3.2</b> Pre-Steps<span></span></a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="data-transformation-1-basic-one-table-verbs.html"><a href="data-transformation-1-basic-one-table-verbs.html#downloading-materials-1"><i class="fa fa-check"></i><b>3.2.1</b> Downloading materials<span></span></a></li>
<li class="chapter" data-level="3.2.2" data-path="data-transformation-1-basic-one-table-verbs.html"><a href="data-transformation-1-basic-one-table-verbs.html#unzipping-the-zip-folder-1"><i class="fa fa-check"></i><b>3.2.2</b> Unzipping the zip folder<span></span></a></li>
<li class="chapter" data-level="3.2.3" data-path="data-transformation-1-basic-one-table-verbs.html"><a href="data-transformation-1-basic-one-table-verbs.html#setting-the-working-directory-1"><i class="fa fa-check"></i><b>3.2.3</b> Setting the working directory<span></span></a></li>
<li class="chapter" data-level="3.2.4" data-path="data-transformation-1-basic-one-table-verbs.html"><a href="data-transformation-1-basic-one-table-verbs.html#loading-in-the-required-packages-into-the-library"><i class="fa fa-check"></i><b>3.2.4</b> Loading in the required packages into the library<span></span></a></li>
<li class="chapter" data-level="3.2.5" data-path="data-transformation-1-basic-one-table-verbs.html"><a href="data-transformation-1-basic-one-table-verbs.html#read-in-the-data"><i class="fa fa-check"></i><b>3.2.5</b> Read in the data<span></span></a></li>
<li class="chapter" data-level="3.2.6" data-path="data-transformation-1-basic-one-table-verbs.html"><a href="data-transformation-1-basic-one-table-verbs.html#view-the-data"><i class="fa fa-check"></i><b>3.2.6</b> View the data<span></span></a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="data-transformation-1-basic-one-table-verbs.html"><a href="data-transformation-1-basic-one-table-verbs.html#select"><i class="fa fa-check"></i><b>3.3</b> select()<span></span></a></li>
<li class="chapter" data-level="3.4" data-path="data-transformation-1-basic-one-table-verbs.html"><a href="data-transformation-1-basic-one-table-verbs.html#arrange"><i class="fa fa-check"></i><b>3.4</b> arrange()<span></span></a></li>
<li class="chapter" data-level="3.5" data-path="data-transformation-1-basic-one-table-verbs.html"><a href="data-transformation-1-basic-one-table-verbs.html#filter"><i class="fa fa-check"></i><b>3.5</b> filter()<span></span></a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="data-transformation-1-basic-one-table-verbs.html"><a href="data-transformation-1-basic-one-table-verbs.html#single-criterion"><i class="fa fa-check"></i><b>3.5.1</b> Single criterion<span></span></a></li>
<li class="chapter" data-level="3.5.2" data-path="data-transformation-1-basic-one-table-verbs.html"><a href="data-transformation-1-basic-one-table-verbs.html#multiple-criteria"><i class="fa fa-check"></i><b>3.5.2</b> Multiple criteria<span></span></a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="data-transformation-1-basic-one-table-verbs.html"><a href="data-transformation-1-basic-one-table-verbs.html#mutate"><i class="fa fa-check"></i><b>3.6</b> mutate()<span></span></a>
<ul>
<li class="chapter" data-level="3.6.1" data-path="data-transformation-1-basic-one-table-verbs.html"><a href="data-transformation-1-basic-one-table-verbs.html#read-in-second-dataset"><i class="fa fa-check"></i><b>3.6.1</b> Read in second dataset<span></span></a></li>
</ul></li>
<li class="chapter" data-level="3.7" data-path="data-transformation-1-basic-one-table-verbs.html"><a href="data-transformation-1-basic-one-table-verbs.html#summarise"><i class="fa fa-check"></i><b>3.7</b> summarise()<span></span></a></li>
<li class="chapter" data-level="3.8" data-path="data-transformation-1-basic-one-table-verbs.html"><a href="data-transformation-1-basic-one-table-verbs.html#adding-group_by"><i class="fa fa-check"></i><b>3.8</b> Adding group_by()<span></span></a></li>
<li class="chapter" data-level="3.9" data-path="data-transformation-1-basic-one-table-verbs.html"><a href="data-transformation-1-basic-one-table-verbs.html#formative-homework-1"><i class="fa fa-check"></i><b>3.9</b> Formative Homework<span></span></a>
<ul>
<li class="chapter" data-level="3.9.1" data-path="data-transformation-1-basic-one-table-verbs.html"><a href="data-transformation-1-basic-one-table-verbs.html#brief-introduction-to-the-homework-data"><i class="fa fa-check"></i><b>3.9.1</b> Brief introduction to the homework data<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="data-transformation-2-more-one-and-two-table-verbs.html"><a href="data-transformation-2-more-one-and-two-table-verbs.html"><i class="fa fa-check"></i><b>4</b> Data Transformation 2: More One and Two Table Verbs<span></span></a>
<ul>
<li><a href="data-transformation-2-more-one-and-two-table-verbs.html#intended-learning-outcomes-4">Intended Learning Outcomes<span></span></a></li>
<li class="chapter" data-level="4.1" data-path="data-transformation-2-more-one-and-two-table-verbs.html"><a href="data-transformation-2-more-one-and-two-table-verbs.html#pre-steps-2"><i class="fa fa-check"></i><b>4.1</b> Pre-Steps<span></span></a></li>
<li class="chapter" data-level="4.2" data-path="data-transformation-2-more-one-and-two-table-verbs.html"><a href="data-transformation-2-more-one-and-two-table-verbs.html#practicing-the-wikham-six"><i class="fa fa-check"></i><b>4.2</b> Practicing the Wikham Six<span></span></a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="data-transformation-2-more-one-and-two-table-verbs.html"><a href="data-transformation-2-more-one-and-two-table-verbs.html#select-1"><i class="fa fa-check"></i><b>4.2.1</b> select()<span></span></a></li>
<li class="chapter" data-level="4.2.2" data-path="data-transformation-2-more-one-and-two-table-verbs.html"><a href="data-transformation-2-more-one-and-two-table-verbs.html#arrange-1"><i class="fa fa-check"></i><b>4.2.2</b> arrange()<span></span></a></li>
<li class="chapter" data-level="4.2.3" data-path="data-transformation-2-more-one-and-two-table-verbs.html"><a href="data-transformation-2-more-one-and-two-table-verbs.html#filter-1"><i class="fa fa-check"></i><b>4.2.3</b> filter()<span></span></a></li>
<li class="chapter" data-level="4.2.4" data-path="data-transformation-2-more-one-and-two-table-verbs.html"><a href="data-transformation-2-more-one-and-two-table-verbs.html#mutate-1"><i class="fa fa-check"></i><b>4.2.4</b> mutate()<span></span></a></li>
<li class="chapter" data-level="4.2.5" data-path="data-transformation-2-more-one-and-two-table-verbs.html"><a href="data-transformation-2-more-one-and-two-table-verbs.html#group_by-and-summarise"><i class="fa fa-check"></i><b>4.2.5</b> group_by() and summarise()<span></span></a></li>
<li class="chapter" data-level="4.2.6" data-path="data-transformation-2-more-one-and-two-table-verbs.html"><a href="data-transformation-2-more-one-and-two-table-verbs.html#bringing-it-all-together"><i class="fa fa-check"></i><b>4.2.6</b> Bringing it all together<span></span></a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="data-transformation-2-more-one-and-two-table-verbs.html"><a href="data-transformation-2-more-one-and-two-table-verbs.html#pipes"><i class="fa fa-check"></i><b>4.3</b> The pipe operator (%&gt;%)<span></span></a></li>
<li class="chapter" data-level="4.4" data-path="data-transformation-2-more-one-and-two-table-verbs.html"><a href="data-transformation-2-more-one-and-two-table-verbs.html#two-table-verbs"><i class="fa fa-check"></i><b>4.4</b> Two-Table Verbs<span></span></a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="data-transformation-2-more-one-and-two-table-verbs.html"><a href="data-transformation-2-more-one-and-two-table-verbs.html#bringing-in-new-data"><i class="fa fa-check"></i><b>4.4.1</b> Bringing in new data<span></span></a></li>
<li class="chapter" data-level="4.4.2" data-path="data-transformation-2-more-one-and-two-table-verbs.html"><a href="data-transformation-2-more-one-and-two-table-verbs.html#mutating-join-verbs"><i class="fa fa-check"></i><b>4.4.2</b> Mutating Join Verbs<span></span></a></li>
<li class="chapter" data-level="4.4.3" data-path="data-transformation-2-more-one-and-two-table-verbs.html"><a href="data-transformation-2-more-one-and-two-table-verbs.html#mutating-join-summary"><i class="fa fa-check"></i><b>4.4.3</b> Mutating Join Summary<span></span></a></li>
<li class="chapter" data-level="4.4.4" data-path="data-transformation-2-more-one-and-two-table-verbs.html"><a href="data-transformation-2-more-one-and-two-table-verbs.html#binding-join-verbs"><i class="fa fa-check"></i><b>4.4.4</b> Binding Join Verbs<span></span></a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="data-transformation-2-more-one-and-two-table-verbs.html"><a href="data-transformation-2-more-one-and-two-table-verbs.html#additional-information"><i class="fa fa-check"></i><b>4.5</b> Additional information<span></span></a></li>
<li class="chapter" data-level="4.6" data-path="data-transformation-2-more-one-and-two-table-verbs.html"><a href="data-transformation-2-more-one-and-two-table-verbs.html#summative-homework-1"><i class="fa fa-check"></i><b>4.6</b> Summative Homework<span></span></a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="data-transformation-3-tidy-data.html"><a href="data-transformation-3-tidy-data.html"><i class="fa fa-check"></i><b>5</b> Data Transformation 3: Tidy Data<span></span></a>
<ul>
<li><a href="data-transformation-3-tidy-data.html#intended-learning-outcomes-5">Intended Learning Outcomes<span></span></a></li>
<li class="chapter" data-level="5.1" data-path="data-transformation-3-tidy-data.html"><a href="data-transformation-3-tidy-data.html#pre-steps-3"><i class="fa fa-check"></i><b>5.1</b> Pre-steps<span></span></a></li>
<li class="chapter" data-level="5.2" data-path="data-transformation-3-tidy-data.html"><a href="data-transformation-3-tidy-data.html#tidy-data"><i class="fa fa-check"></i><b>5.2</b> Tidy data<span></span></a></li>
<li class="chapter" data-level="5.3" data-path="data-transformation-3-tidy-data.html"><a href="data-transformation-3-tidy-data.html#gather-and-spread"><i class="fa fa-check"></i><b>5.3</b> gather() and spread()<span></span></a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="data-transformation-3-tidy-data.html"><a href="data-transformation-3-tidy-data.html#gather"><i class="fa fa-check"></i><b>5.3.1</b> gather()<span></span></a></li>
<li class="chapter" data-level="5.3.2" data-path="data-transformation-3-tidy-data.html"><a href="data-transformation-3-tidy-data.html#spread"><i class="fa fa-check"></i><b>5.3.2</b> spread()<span></span></a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="data-transformation-3-tidy-data.html"><a href="data-transformation-3-tidy-data.html#separate-and-unite"><i class="fa fa-check"></i><b>5.4</b> separate() and unite()<span></span></a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="data-transformation-3-tidy-data.html"><a href="data-transformation-3-tidy-data.html#separate"><i class="fa fa-check"></i><b>5.4.1</b> separate()<span></span></a></li>
<li class="chapter" data-level="5.4.2" data-path="data-transformation-3-tidy-data.html"><a href="data-transformation-3-tidy-data.html#additional-arguments-for-separate"><i class="fa fa-check"></i><b>5.4.2</b> additional arguments for separate()<span></span></a></li>
<li class="chapter" data-level="5.4.3" data-path="data-transformation-3-tidy-data.html"><a href="data-transformation-3-tidy-data.html#unite"><i class="fa fa-check"></i><b>5.4.3</b> unite()<span></span></a></li>
<li class="chapter" data-level="5.4.4" data-path="data-transformation-3-tidy-data.html"><a href="data-transformation-3-tidy-data.html#additional-arguments-for-unite"><i class="fa fa-check"></i><b>5.4.4</b> additional arguments for unite()<span></span></a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="data-transformation-3-tidy-data.html"><a href="data-transformation-3-tidy-data.html#bonus-materials-mutate-row-names-from-the-mtcars"><i class="fa fa-check"></i><b>5.5</b> Bonus materials: mutate row names from the <code>mtcars</code><span></span></a></li>
<li class="chapter" data-level="5.6" data-path="data-transformation-3-tidy-data.html"><a href="data-transformation-3-tidy-data.html#additional-information-1"><i class="fa fa-check"></i><b>5.6</b> Additional information<span></span></a></li>
<li class="chapter" data-level="5.7" data-path="data-transformation-3-tidy-data.html"><a href="data-transformation-3-tidy-data.html#formative-homework-2"><i class="fa fa-check"></i><b>5.7</b> Formative Homework<span></span></a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="data-transformation-4-fine-tuned-data-manipulation.html"><a href="data-transformation-4-fine-tuned-data-manipulation.html"><i class="fa fa-check"></i><b>6</b> Data Transformation 4: Fine-tuned Data Manipulation<span></span></a>
<ul>
<li><a href="data-transformation-4-fine-tuned-data-manipulation.html#intended-learning-outcomes-6">Intended Learning Outcomes<span></span></a></li>
<li class="chapter" data-level="6.1" data-path="data-transformation-4-fine-tuned-data-manipulation.html"><a href="data-transformation-4-fine-tuned-data-manipulation.html#pre-steps-4"><i class="fa fa-check"></i><b>6.1</b> Pre-steps<span></span></a></li>
<li class="chapter" data-level="6.2" data-path="data-transformation-4-fine-tuned-data-manipulation.html"><a href="data-transformation-4-fine-tuned-data-manipulation.html#rename"><i class="fa fa-check"></i><b>6.2</b> rename()<span></span></a></li>
<li class="chapter" data-level="6.3" data-path="data-transformation-4-fine-tuned-data-manipulation.html"><a href="data-transformation-4-fine-tuned-data-manipulation.html#conditional-statements"><i class="fa fa-check"></i><b>6.3</b> Conditional statements<span></span></a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="data-transformation-4-fine-tuned-data-manipulation.html"><a href="data-transformation-4-fine-tuned-data-manipulation.html#recode"><i class="fa fa-check"></i><b>6.3.1</b> recode()<span></span></a></li>
<li class="chapter" data-level="6.3.2" data-path="data-transformation-4-fine-tuned-data-manipulation.html"><a href="data-transformation-4-fine-tuned-data-manipulation.html#ifelse"><i class="fa fa-check"></i><b>6.3.2</b> ifelse()<span></span></a></li>
<li class="chapter" data-level="6.3.3" data-path="data-transformation-4-fine-tuned-data-manipulation.html"><a href="data-transformation-4-fine-tuned-data-manipulation.html#case_when"><i class="fa fa-check"></i><b>6.3.3</b> case_when()<span></span></a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="data-transformation-4-fine-tuned-data-manipulation.html"><a href="data-transformation-4-fine-tuned-data-manipulation.html#distinct"><i class="fa fa-check"></i><b>6.4</b> distinct()<span></span></a></li>
<li class="chapter" data-level="6.5" data-path="data-transformation-4-fine-tuned-data-manipulation.html"><a href="data-transformation-4-fine-tuned-data-manipulation.html#recap"><i class="fa fa-check"></i><b>6.5</b> Recap<span></span></a>
<ul>
<li class="chapter" data-level="6.5.1" data-path="data-transformation-4-fine-tuned-data-manipulation.html"><a href="data-transformation-4-fine-tuned-data-manipulation.html#question-1"><i class="fa fa-check"></i><b>6.5.1</b> Question 1<span></span></a></li>
<li class="chapter" data-level="6.5.2" data-path="data-transformation-4-fine-tuned-data-manipulation.html"><a href="data-transformation-4-fine-tuned-data-manipulation.html#question-2"><i class="fa fa-check"></i><b>6.5.2</b> Question 2<span></span></a></li>
<li class="chapter" data-level="6.5.3" data-path="data-transformation-4-fine-tuned-data-manipulation.html"><a href="data-transformation-4-fine-tuned-data-manipulation.html#question-3"><i class="fa fa-check"></i><b>6.5.3</b> Question 3<span></span></a></li>
<li class="chapter" data-level="6.5.4" data-path="data-transformation-4-fine-tuned-data-manipulation.html"><a href="data-transformation-4-fine-tuned-data-manipulation.html#question-4"><i class="fa fa-check"></i><b>6.5.4</b> Question 4<span></span></a></li>
<li class="chapter" data-level="6.5.5" data-path="data-transformation-4-fine-tuned-data-manipulation.html"><a href="data-transformation-4-fine-tuned-data-manipulation.html#question-5"><i class="fa fa-check"></i><b>6.5.5</b> Question 5<span></span></a></li>
</ul></li>
<li class="chapter" data-level="6.6" data-path="data-transformation-4-fine-tuned-data-manipulation.html"><a href="data-transformation-4-fine-tuned-data-manipulation.html#summative-homework-2"><i class="fa fa-check"></i><b>6.6</b> Summative Homework<span></span></a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="data-visualisation-1.html"><a href="data-visualisation-1.html"><i class="fa fa-check"></i><b>7</b> Data Visualisation 1<span></span></a>
<ul>
<li class="chapter" data-level="7.1" data-path="data-visualisation-1.html"><a href="data-visualisation-1.html#pre-class-activities"><i class="fa fa-check"></i><b>7.1</b> Pre-class Activities<span></span></a></li>
<li><a href="data-visualisation-1.html#intended-learning-outcomes-7">Intended Learning Outcomes<span></span></a></li>
<li class="chapter" data-level="7.2" data-path="data-visualisation-1.html"><a href="data-visualisation-1.html#pre-steps-5"><i class="fa fa-check"></i><b>7.2</b> Pre-steps<span></span></a></li>
<li class="chapter" data-level="7.3" data-path="data-visualisation-1.html"><a href="data-visualisation-1.html#introduction-to-the-data"><i class="fa fa-check"></i><b>7.3</b> Introduction to the data<span></span></a></li>
<li class="chapter" data-level="7.4" data-path="data-visualisation-1.html"><a href="data-visualisation-1.html#some-warm-up-tasks"><i class="fa fa-check"></i><b>7.4</b> Some warm-up tasks<span></span></a></li>
<li class="chapter" data-level="7.5" data-path="data-visualisation-1.html"><a href="data-visualisation-1.html#the-package-ggplot2"><i class="fa fa-check"></i><b>7.5</b> The package GGPLOT2<span></span></a></li>
<li class="chapter" data-level="7.6" data-path="data-visualisation-1.html"><a href="data-visualisation-1.html#layering"><i class="fa fa-check"></i><b>7.6</b> Layering<span></span></a>
<ul>
<li class="chapter" data-level="7.6.1" data-path="data-visualisation-1.html"><a href="data-visualisation-1.html#layer-1"><i class="fa fa-check"></i><b>7.6.1</b> Layer 1<span></span></a></li>
<li class="chapter" data-level="7.6.2" data-path="data-visualisation-1.html"><a href="data-visualisation-1.html#layer-2-and-onward"><i class="fa fa-check"></i><b>7.6.2</b> Layer 2 and onward<span></span></a></li>
</ul></li>
<li class="chapter" data-level="7.7" data-path="data-visualisation-1.html"><a href="data-visualisation-1.html#how-do-we-choose-the-type-of-plot"><i class="fa fa-check"></i><b>7.7</b> How do we choose the type of plot?<span></span></a>
<ul>
<li class="chapter" data-level="7.7.1" data-path="data-visualisation-1.html"><a href="data-visualisation-1.html#data-format"><i class="fa fa-check"></i><b>7.7.1</b> Data format<span></span></a></li>
<li class="chapter" data-level="7.7.2" data-path="data-visualisation-1.html"><a href="data-visualisation-1.html#number-of-variables"><i class="fa fa-check"></i><b>7.7.2</b> Number of variables<span></span></a></li>
<li class="chapter" data-level="7.7.3" data-path="data-visualisation-1.html"><a href="data-visualisation-1.html#types-of-plots"><i class="fa fa-check"></i><b>7.7.3</b> Types of plots<span></span></a></li>
<li class="chapter" data-level="7.7.4" data-path="data-visualisation-1.html"><a href="data-visualisation-1.html#groupings"><i class="fa fa-check"></i><b>7.7.4</b> Groupings<span></span></a></li>
</ul></li>
<li class="chapter" data-level="7.8" data-path="data-visualisation-1.html"><a href="data-visualisation-1.html#now-lets-have-a-look-at-different-plots-with-more-complexity"><i class="fa fa-check"></i><b>7.8</b> Now let’s have a look at different plots with more complexity<span></span></a></li>
<li class="chapter" data-level="7.9" data-path="data-visualisation-1.html"><a href="data-visualisation-1.html#other-plots"><i class="fa fa-check"></i><b>7.9</b> Other plots<span></span></a></li>
<li class="chapter" data-level="7.10" data-path="data-visualisation-1.html"><a href="data-visualisation-1.html#formative-homework-3"><i class="fa fa-check"></i><b>7.10</b> Formative Homework<span></span></a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="data-visualisation-2.html"><a href="data-visualisation-2.html"><i class="fa fa-check"></i><b>8</b> Data Visualisation 2<span></span></a>
<ul>
<li class="chapter" data-level="8.1" data-path="data-visualisation-2.html"><a href="data-visualisation-2.html#additional-resources"><i class="fa fa-check"></i><b>8.1</b> Additional Resources<span></span></a></li>
<li><a href="data-visualisation-2.html#intended-learning-outcomes-8">Intended Learning Outcomes<span></span></a></li>
<li class="chapter" data-level="8.2" data-path="data-visualisation-2.html"><a href="data-visualisation-2.html#pre-steps-6"><i class="fa fa-check"></i><b>8.2</b> Pre-steps<span></span></a></li>
<li class="chapter" data-level="8.3" data-path="data-visualisation-2.html"><a href="data-visualisation-2.html#re-introduction-to-the-data"><i class="fa fa-check"></i><b>8.3</b> Re-introduction to the data<span></span></a></li>
<li class="chapter" data-level="8.4" data-path="data-visualisation-2.html"><a href="data-visualisation-2.html#create-multiple-plots-in-one"><i class="fa fa-check"></i><b>8.4</b> Create multiple plots in one<span></span></a>
<ul>
<li class="chapter" data-level="8.4.1" data-path="data-visualisation-2.html"><a href="data-visualisation-2.html#select-the-data-beforehand-and-create-different-plots."><i class="fa fa-check"></i><b>8.4.1</b> Select the data beforehand and create different plots.<span></span></a></li>
<li class="chapter" data-level="8.4.2" data-path="data-visualisation-2.html"><a href="data-visualisation-2.html#facets"><i class="fa fa-check"></i><b>8.4.2</b> Facets<span></span></a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="data-visualisation-2.html"><a href="data-visualisation-2.html#global-and-local-aesthetics"><i class="fa fa-check"></i><b>8.5</b> Global and Local aesthetics<span></span></a></li>
<li class="chapter" data-level="8.6" data-path="data-visualisation-2.html"><a href="data-visualisation-2.html#themes-making-your-plots-pretty-looking-the-way-you-want-them-to"><i class="fa fa-check"></i><b>8.6</b> Themes: Making your plots pretty: looking the way you want them to<span></span></a>
<ul>
<li class="chapter" data-level="8.6.1" data-path="data-visualisation-2.html"><a href="data-visualisation-2.html#ready-made-themes"><i class="fa fa-check"></i><b>8.6.1</b> Ready-made themes<span></span></a></li>
<li class="chapter" data-level="8.6.2" data-path="data-visualisation-2.html"><a href="data-visualisation-2.html#adding-axes-titles-and-headings"><i class="fa fa-check"></i><b>8.6.2</b> Adding axes titles and headings<span></span></a></li>
</ul></li>
<li class="chapter" data-level="8.7" data-path="data-visualisation-2.html"><a href="data-visualisation-2.html#changing-colours"><i class="fa fa-check"></i><b>8.7</b> Changing colours<span></span></a></li>
<li class="chapter" data-level="8.8" data-path="data-visualisation-2.html"><a href="data-visualisation-2.html#legends"><i class="fa fa-check"></i><b>8.8</b> Legends<span></span></a></li>
<li class="chapter" data-level="8.9" data-path="data-visualisation-2.html"><a href="data-visualisation-2.html#changing-axes-ticks"><i class="fa fa-check"></i><b>8.9</b> Changing axes ticks<span></span></a></li>
<li class="chapter" data-level="8.10" data-path="data-visualisation-2.html"><a href="data-visualisation-2.html#saving-plots"><i class="fa fa-check"></i><b>8.10</b> Saving plots<span></span></a></li>
<li class="chapter" data-level="8.11" data-path="data-visualisation-2.html"><a href="data-visualisation-2.html#summative-homework-3"><i class="fa fa-check"></i><b>8.11</b> Summative Homework<span></span></a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="errors.html"><a href="errors.html"><i class="fa fa-check"></i><b>9</b> Errors<span></span></a>
<ul>
<li><a href="errors.html#intended-learning-outcomes-9">Intended Learning Outcomes<span></span></a></li>
<li class="chapter" data-level="9.1" data-path="errors.html"><a href="errors.html#errors-how-to-avoid-some-and-live-through-the-rest"><i class="fa fa-check"></i><b>9.1</b> Errors: How to avoid some and live through the rest<span></span></a></li>
<li class="chapter" data-level="9.2" data-path="errors.html"><a href="errors.html#debugging"><i class="fa fa-check"></i><b>9.2</b> Debugging<span></span></a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="errors.html"><a href="errors.html#messages-from-r"><i class="fa fa-check"></i><b>9.2.1</b> Messages from R<span></span></a></li>
<li class="chapter" data-level="9.2.2" data-path="errors.html"><a href="errors.html#error-messages"><i class="fa fa-check"></i><b>9.2.2</b> Error Messages<span></span></a></li>
<li class="chapter" data-level="9.2.3" data-path="errors.html"><a href="errors.html#multiple-errors"><i class="fa fa-check"></i><b>9.2.3</b> Multiple Errors<span></span></a></li>
<li class="chapter" data-level="9.2.4" data-path="errors.html"><a href="errors.html#finding-errors-in-longer-code-segments"><i class="fa fa-check"></i><b>9.2.4</b> Finding errors in longer code segments<span></span></a></li>
<li class="chapter" data-level="9.2.5" data-path="errors.html"><a href="errors.html#warning-messages"><i class="fa fa-check"></i><b>9.2.5</b> Warning Messages<span></span></a></li>
<li class="chapter" data-level="9.2.6" data-path="errors.html"><a href="errors.html#other-messages"><i class="fa fa-check"></i><b>9.2.6</b> Other Messages<span></span></a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="errors.html"><a href="errors.html#searching-for-help-online"><i class="fa fa-check"></i><b>9.3</b> Searching for Help Online<span></span></a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="errors.html"><a href="errors.html#googling-it"><i class="fa fa-check"></i><b>9.3.1</b> Googling It<span></span></a></li>
<li class="chapter" data-level="9.3.2" data-path="errors.html"><a href="errors.html#stack-overflow"><i class="fa fa-check"></i><b>9.3.2</b> Stack Overflow<span></span></a></li>
<li class="chapter" data-level="9.3.3" data-path="errors.html"><a href="errors.html#youtube"><i class="fa fa-check"></i><b>9.3.3</b> YouTube<span></span></a></li>
<li class="chapter" data-level="9.3.4" data-path="errors.html"><a href="errors.html#further-reading"><i class="fa fa-check"></i><b>9.3.4</b> Further Reading<span></span></a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="errors.html"><a href="errors.html#formative-exercises"><i class="fa fa-check"></i><b>9.4</b> Formative Exercises<span></span></a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="recap-before-the-final-assessment.html"><a href="recap-before-the-final-assessment.html"><i class="fa fa-check"></i><b>10</b> Recap: Before the final assessment<span></span></a>
<ul>
<li class="chapter" data-level="10.1" data-path="recap-before-the-final-assessment.html"><a href="recap-before-the-final-assessment.html#outline-for-today"><i class="fa fa-check"></i><b>10.1</b> Outline for today<span></span></a></li>
<li class="chapter" data-level="10.2" data-path="recap-before-the-final-assessment.html"><a href="recap-before-the-final-assessment.html#lecture-10-bringing-your-skills-together"><i class="fa fa-check"></i><b>10.2</b> Lecture 10: Bringing your skills together<span></span></a>
<ul>
<li><a href="recap-before-the-final-assessment.html#question-1-1">Question 1<span></span></a></li>
<li><a href="recap-before-the-final-assessment.html#question-2-1">Question 2<span></span></a></li>
<li><a href="recap-before-the-final-assessment.html#question-3-1">Question 3<span></span></a></li>
<li><a href="recap-before-the-final-assessment.html#question-4-1">Question 4<span></span></a></li>
<li><a href="recap-before-the-final-assessment.html#question-5-1">Question 5<span></span></a></li>
<li><a href="recap-before-the-final-assessment.html#question-6">Question 6<span></span></a></li>
<li><a href="recap-before-the-final-assessment.html#question-7">Question 7<span></span></a></li>
<li><a href="recap-before-the-final-assessment.html#question-8">Question 8<span></span></a></li>
<li><a href="recap-before-the-final-assessment.html#question-9">Question 9<span></span></a></li>
<li><a href="recap-before-the-final-assessment.html#question-10">Question 10<span></span></a></li>
<li><a href="recap-before-the-final-assessment.html#question-11">Question 11<span></span></a></li>
<li><a href="recap-before-the-final-assessment.html#question-12-bonus">Question 12 (Bonus)<span></span></a></li>
<li><a href="recap-before-the-final-assessment.html#question-13-bonus">Question 13 (Bonus)<span></span></a></li>
<li><a href="recap-before-the-final-assessment.html#question-14-bonus">Question 14 (Bonus)<span></span></a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="recap-before-the-final-assessment.html"><a href="recap-before-the-final-assessment.html#solutions"><i class="fa fa-check"></i><b>10.3</b> Solutions<span></span></a></li>
</ul></li>
<li><a href="appendices.html#appendices">Appendices<span></span></a>
<ul>
<li><a href="appendices.html#changing-the-appearance-of-rmarkdown">Changing the Appearance of RMarkdown<span></span></a></li>
<li><a href="appendices.html#source-materials">Source Materials<span></span></a></li>
<li><a href="appendices.html#further-reading-1">Further Reading<span></span></a>
<ul>
<li><a href="appendices.html#statistics">Statistics<span></span></a></li>
<li><a href="appendices.html#more-advanced-use-of-r">More Advanced Use of R<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i><b>11</b> References<span></span></a></li>
<li class="divider"></li>
<li><a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/" 
    target="blank"><img alt="Creative Commons License" 
    style="border-width:0" 
    src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png" /></a><li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Introduction to R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-transformation-2-more-one-and-two-table-verbs" class="section level1 hasAnchor" number="4">
<h1><span class="header-section-number">Chapter 4</span> Data Transformation 2: More One and Two Table Verbs<a href="data-transformation-2-more-one-and-two-table-verbs.html#data-transformation-2-more-one-and-two-table-verbs" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="intended-learning-outcomes-4" class="section level2 unnumbered hasAnchor">
<h2>Intended Learning Outcomes<a href="data-transformation-2-more-one-and-two-table-verbs.html#intended-learning-outcomes-4" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ol style="list-style-type: decimal">
<li>Become comfortable with the Wickham Six dplyr one-table verbs:</li>
</ol>
<ul>
<li><code>select()</code></li>
<li><code>arrange()</code></li>
<li><code>filter()</code></li>
<li><code>mutate()</code></li>
<li><code>group_by()</code></li>
<li><code>summarise()</code></li>
</ul>
<ol start="2" style="list-style-type: decimal">
<li><p>Be able to chain functions together using the pipe operator (<code>%&gt;%</code>)</p></li>
<li><p>Be able to use the following dplyr two-table verbs:</p></li>
</ol>
<ul>
<li>Mutating joins: <code>left_join()</code>, <code>right_join()</code>, <code>full_join()</code>, <code>inner_join()</code></li>
<li>Binding joins: <code>bind_rows()</code>, <code>bind_cols()</code></li>
</ul>
<p>This lesson is led by <a href="https://www.psy.gla.ac.uk/otherstaff/?id=TJ001">Jaimie Torrance</a>.</p>
</div>
<div id="pre-steps-2" class="section level2 hasAnchor" number="4.1">
<h2><span class="header-section-number">4.1</span> Pre-Steps<a href="data-transformation-2-more-one-and-two-table-verbs.html#pre-steps-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ol style="list-style-type: decimal">
<li>Make sure to download todays materials and save them to your desired working directory. Make sure you have all the correct files including the <code>L4_Stub</code> file, and the data files; <code>CareerStats2.csv</code>, <code>wos_seasonal_sun.csv</code>, <code>wos_seasonal_rain.csv</code>, <code>wos_monthly_sun.csv</code> and <code>wos_monthly_rain.csv</code>.</li>
<li>Open the <code>L4_stub</code> file.</li>
<li>Load <code>tidyverse</code> into the library.</li>
<li>Read the data from <code>CareerStats2.csv</code> into your <code>Global Environment</code> as <code>MMA_Data</code>.</li>
</ol>
<div class="webex-solution">
<button>
Solution
</button>
<div class="sourceCode" id="cb189"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb189-1"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb189-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb189-2"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb189-2" aria-hidden="true" tabindex="-1"></a>MMA_Data <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;CareerStats2.csv&quot;</span>)</span></code></pre></div>
</div>
</div>
<div id="practicing-the-wikham-six" class="section level2 hasAnchor" number="4.2">
<h2><span class="header-section-number">4.2</span> Practicing the Wikham Six<a href="data-transformation-2-more-one-and-two-table-verbs.html#practicing-the-wikham-six" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The first part of todays class will be practicing the Wickham Six some more, as was mentioned before, the vast majority of your “data time” will be wrangling your data, and most of that can be done with these six functions, so it’s good to practice with them. First you’ll see an example of each function to refresh your memory. Then you will be asked to try for yourself, these will be a little more involved than last week to really test you. If you are stuggling you can check the solutions, but try yourself first, and answer the questions too, this will help you check your code is correct.</p>
<div id="select-1" class="section level3 hasAnchor" number="4.2.1">
<h3><span class="header-section-number">4.2.1</span> select()<a href="data-transformation-2-more-one-and-two-table-verbs.html#select-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>First up lets try to narrow down this big data set, by taking <code>MMA_Data</code>, and selecting only the variables; <code>ID</code>, <code>Height</code>, <code>Weight</code>, <code>BMI</code>, <code>Reach</code> and <code>Stance</code>. We will store this in <code>Example_1</code>.</p>
<div class="sourceCode" id="cb190"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb190-1"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb190-1" aria-hidden="true" tabindex="-1"></a>Example_1 <span class="ot">&lt;-</span> <span class="fu">select</span>(MMA_Data, ID, Height, Weight<span class="sc">:</span>Reach, Stance)</span>
<span id="cb190-2"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb190-2" aria-hidden="true" tabindex="-1"></a>Example_1</span></code></pre></div>
<pre><code>## # A tibble: 199 x 6
##    ID               Height Weight   BMI Reach Stance  
##    &lt;chr&gt;             &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;   
##  1 056c493bbd76a918     64    125  21.5    64 Orthodox
##  2 b102c26727306ab6     65    125  20.8    67 Orthodox
##  3 80eacd4da0617c57     64    125  21.5    65 Southpaw
##  4 a4de54ea806fb525     64    125  21.5    63 Orthodox
##  5 aa72b0f831d0bfe5     65    125  20.8    68 Orthodox
##  6 92437c6775b3f7d1     66    125  20.2    66 Orthodox
##  7 5aedf14771ca82d2     64    125  21.5    65 Southpaw
##  8 a0f0004aadf10b71     65    125  20.8    67 Orthodox
##  9 f53c1f4ceeed8c08     65    125  20.8    65 Orthodox
## 10 ab2b4ff41d6ebe0f     66    125  20.2    65 Orthodox
## # ... with 189 more rows</code></pre>
<div class="info">
<p>
Notice, this could also have been written as follows;
<code>Example_1 &lt;- select(MMA_Data, ID, Height, Weight, BMI, Reach, Stance)</code>
</p>
<p>
We can use the <code>:</code> operator to sequence together columns
that are next to each other in the original dataframe, this can save
time but it is not necessary.
</p>
</div>
<p><span style="font-size: 22px; font-weight: bold; color: hsl(24, 100%, 50%);">Question Time</span></p>
<div class="task">
<p>
<strong>Your turn</strong>
</p>
<p>
Using <code>select()</code> keep everything from
<code>Example_1</code> but except <code>Reach</code>, and store this in
an object names <code>Q1</code>.
</p>
</div>
<div class="webex-solution">
<button>
Solution
</button>
<div class="sourceCode" id="cb192"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb192-1"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb192-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Jaimie&#39;s solutions</span></span>
<span id="cb192-2"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb192-2" aria-hidden="true" tabindex="-1"></a>Q1 <span class="ot">&lt;-</span> <span class="fu">select</span>(Example_1, <span class="sc">-</span>Reach)</span>
<span id="cb192-3"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb192-3" aria-hidden="true" tabindex="-1"></a><span class="co">#OR</span></span>
<span id="cb192-4"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb192-4" aria-hidden="true" tabindex="-1"></a>Q1 <span class="ot">&lt;-</span> <span class="fu">select</span>(Example_1, ID, Height, Weight, BMI, Stance)</span></code></pre></div>
</div>
</div>
<div id="arrange-1" class="section level3 hasAnchor" number="4.2.2">
<h3><span class="header-section-number">4.2.2</span> arrange()<a href="data-transformation-2-more-one-and-two-table-verbs.html#arrange-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Lets move on to <code>arrange()</code>; lets take the table <code>Example_1</code>, and arrange it first by <code>Weight</code>, then by <code>BMI</code>, we’ll store this in <code>Example_2</code>.</p>
<div class="sourceCode" id="cb193"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb193-1"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb193-1" aria-hidden="true" tabindex="-1"></a>Example_2 <span class="ot">&lt;-</span> <span class="fu">arrange</span>(Example_1, Weight, BMI)</span>
<span id="cb193-2"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb193-2" aria-hidden="true" tabindex="-1"></a>Example_2</span></code></pre></div>
<pre><code>## # A tibble: 199 x 6
##    ID               Height Weight   BMI Reach Stance  
##    &lt;chr&gt;             &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;   
##  1 199eb7cf6ae90294     69    125  18.5    71 Orthodox
##  2 0fd5f4b838e890cc     68    125  19.0    70 Orthodox
##  3 67c1d46f4ed16f9e     68    125  19.0    70 Orthodox
##  4 792be9a24df82ed6     67    125  19.6    70 Orthodox
##  5 92437c6775b3f7d1     66    125  20.2    66 Orthodox
##  6 ab2b4ff41d6ebe0f     66    125  20.2    65 Orthodox
##  7 a0c64f272b65d441     66    125  20.2    68 Orthodox
##  8 1a31ef98efce7a79     66    125  20.2    66 Switch  
##  9 2fe9032955c2e013     66    125  20.2    69 Switch  
## 10 b102c26727306ab6     65    125  20.8    67 Orthodox
## # ... with 189 more rows</code></pre>
<p><span style="font-size: 22px; font-weight: bold; color: hsl(24, 100%, 50%);">Question Time</span></p>
<p>What is the height of the top entry in <code>Example_2</code>? <input class='webex-solveme nospaces' size='2' data-answer='["69"]'/></p>
<div class="task">
<p>
<strong>Your turn</strong>
</p>
<p>
Using <code>arrange()</code>, take the table <code>Example_1</code>
and arrange it first by <code>Reach</code> in <em>desceding</em> order,
then by <code>Height</code> in <em>ascending</em> order. Store the
result in <code>Q2</code>.
</p>
</div>
<div class="webex-solution">
<button>
Solution
</button>
<div class="sourceCode" id="cb195"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb195-1"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb195-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Jaimie&#39;s solution</span></span>
<span id="cb195-2"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb195-2" aria-hidden="true" tabindex="-1"></a>Q2 <span class="ot">&lt;-</span> <span class="fu">arrange</span>(Example_1, <span class="fu">desc</span>(Reach), <span class="fu">desc</span>(Height))</span></code></pre></div>
</div>
<p>What is the <code>BMI</code> of the top entry in <code>Q2</code>? <input class='webex-solveme nospaces' size='6' data-answer='["27.042"]'/></p>
</div>
<div id="filter-1" class="section level3 hasAnchor" number="4.2.3">
<h3><span class="header-section-number">4.2.3</span> filter()<a href="data-transformation-2-more-one-and-two-table-verbs.html#filter-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Now onto <code>filter()</code> which has so many uses! Lets filter out all the athletes who are <em>over</em> 31 years of age</p>
<div class="sourceCode" id="cb196"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb196-1"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb196-1" aria-hidden="true" tabindex="-1"></a>Example_3 <span class="ot">&lt;-</span> <span class="fu">filter</span>(MMA_Data, Age <span class="sc">&lt;=</span><span class="dv">31</span>)</span>
<span id="cb196-2"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb196-2" aria-hidden="true" tabindex="-1"></a>Example_3</span></code></pre></div>
<pre><code>## # A tibble: 97 x 32
##    ID                Age Height HeightClass Weight   BMI Reach ReachClass Stance
##    &lt;chr&gt;           &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt;        &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt; 
##  1 a4de54ea806fb5~  25.4     64 Short          125  21.5    63 Below      Ortho~
##  2 a0f0004aadf10b~  28.7     65 Short          125  20.8    67 Below      Ortho~
##  3 f53c1f4ceeed8c~  30       65 Short          125  20.8    65 Below      Ortho~
##  4 ab2b4ff41d6ebe~  26.8     66 Average        125  20.2    65 Below      Ortho~
##  5 87f19d19f4cb73~  30.4     65 Short          125  20.8    65 Below      Ortho~
##  6 0fd5f4b838e890~  26.7     68 Average        125  19.0    70 Below      Ortho~
##  7 20999e27ddd94b~  29.3     65 Short          125  20.8    68 Below      Ortho~
##  8 a0c64f272b65d4~  27.9     66 Average        125  20.2    68 Below      Ortho~
##  9 67c1d46f4ed16f~  29.0     68 Average        125  19.0    70 Below      Ortho~
## 10 792be9a24df82e~  25.0     67 Average        125  19.6    70 Below      Ortho~
## # ... with 87 more rows, and 23 more variables: WeightClass &lt;chr&gt;,
## #   T_Wins &lt;dbl&gt;, T_Losses &lt;dbl&gt;, T_Fights &lt;dbl&gt;, Success &lt;dbl&gt;,
## #   W_by_Decision &lt;dbl&gt;, `W_by_KO/TKO` &lt;dbl&gt;, W_by_Sub &lt;dbl&gt;,
## #   L_by_Decision &lt;dbl&gt;, `L_by_KO/TKO` &lt;dbl&gt;, L_by_Sub &lt;dbl&gt;, PWDec &lt;dbl&gt;,
## #   PWTko &lt;dbl&gt;, PWSub &lt;dbl&gt;, PLDec &lt;dbl&gt;, PLTko &lt;dbl&gt;, PLSub &lt;dbl&gt;,
## #   Available &lt;dbl&gt;, TTime &lt;dbl&gt;, Time_Avg &lt;dbl&gt;, TLpM &lt;dbl&gt;, AbpM &lt;dbl&gt;,
## #   SubAtt_Avg &lt;dbl&gt;</code></pre>
<p><span style="font-size: 22px; font-weight: bold; color: hsl(24, 100%, 50%);">Question Time</span></p>
<p>How many athletes (observations) are left in <code>Example_3</code>? <input class='webex-solveme nospaces' size='2' data-answer='["97"]'/></p>
<div class="task">
<p>
<strong>Your turn</strong>
</p>
<p>
Using <code>filter()</code>, take the original table
<code>MMA_Data</code> and keep only those athletes in the ‘Flyweight’
and ‘Lightweight’ <code>WeightClasses</code> Store the result in
<code>Q3</code>.
</p>
</div>
<div class="webex-solution">
<button>
Solution
</button>
<div class="sourceCode" id="cb198"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb198-1"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb198-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Jaimie&#39;s solution</span></span>
<span id="cb198-2"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb198-2" aria-hidden="true" tabindex="-1"></a>Q3 <span class="ot">&lt;-</span> <span class="fu">filter</span>(MMA_Data, WeightClass <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;Flyweight&quot;</span>, <span class="st">&quot;Lightweight&quot;</span>))</span></code></pre></div>
</div>
<p>How many athletes (observations) are left in <code>Q3</code>? <input class='webex-solveme nospaces' size='2' data-answer='["50"]'/></p>
<div class="task">
<p>
<strong>Your turn</strong>
</p>
<p>
Now try taking the original table <code>MMA_Data</code> and keep only
those athletes from the “Welterweight” <code>WeightClass</code>, who are
over 72 inches in <code>Height</code>. Store the result in
<code>Q4</code>. - Hint - remember they will need to match <em>both</em>
conditions
</p>
</div>
<div class="webex-solution">
<button>
Solution
</button>
<div class="sourceCode" id="cb199"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb199-1"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb199-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Jaimie&#39;s solution</span></span>
<span id="cb199-2"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb199-2" aria-hidden="true" tabindex="-1"></a>Q4 <span class="ot">&lt;-</span> <span class="fu">filter</span>(MMA_Data, WeightClass <span class="sc">==</span> <span class="st">&quot;Welterweight&quot;</span>, Height <span class="sc">&lt;=</span> <span class="dv">72</span>)</span></code></pre></div>
</div>
<p>How many athletes (observations) are left in <code>Q4</code>? <input class='webex-solveme nospaces' size='2' data-answer='["18"]'/></p>
<div class="task">
<p>
<strong>Your turn</strong>
</p>
<p>
Now try taking the original table <code>MMA_Data</code> and keep only
those athletes who have the “Orthodox” <code>Stance</code> <em>AND</em>
have 27 or more total fights (<code>T_Fights</code>) <em>OR</em> 15 or
more wins by submission (<code>W_by_Sub</code>). Store the result in
<code>Q5</code>. - Hint - No matter what they need to have the
<code>Orthodox</code> stance, regardless of the other conditions
</p>
</div>
<div class="webex-solution">
<button>
Solution
</button>
<div class="sourceCode" id="cb200"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb200-1"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb200-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Jaimie&#39;s solution</span></span>
<span id="cb200-2"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb200-2" aria-hidden="true" tabindex="-1"></a>Q5 <span class="ot">&lt;-</span> <span class="fu">filter</span>(MMA_Data, Stance <span class="sc">==</span> <span class="st">&quot;Orthodox&quot;</span> <span class="sc">&amp;</span> (T_Fights <span class="sc">&gt;=</span> <span class="dv">27</span> <span class="sc">|</span> W_by_Sub <span class="sc">&gt;=</span> <span class="dv">15</span>))</span>
<span id="cb200-3"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb200-3" aria-hidden="true" tabindex="-1"></a><span class="co">#OR</span></span>
<span id="cb200-4"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb200-4" aria-hidden="true" tabindex="-1"></a>Q5 <span class="ot">&lt;-</span> <span class="fu">filter</span>(MMA_Data, Stance <span class="sc">==</span> <span class="st">&quot;Orthodox&quot;</span>, (T_Fights <span class="sc">&gt;=</span> <span class="dv">27</span> <span class="sc">|</span> W_by_Sub <span class="sc">&gt;=</span> <span class="dv">15</span>))</span></code></pre></div>
</div>
<div class="webex-solution">
<button>
Explain This Answer
</button>
<div class="solved">
<p>
There is essentially 2 parts to this question; the first criteria is
to find athletes who have the “orthodox” stance… that’s the first
requirement… then <em>if</em> they matched that criteria, we want to
check, if they have <em>EITHER</em> 27 or more total fights <em>OR</em>
15 or more wins by submission, which is why we need to put the second
“either/or” criteria in brackets, so R knows to treat them together.
</p>
<p>
If you take the brackets out, it will treat the first two criteria as
a joint criteria and the <code>|</code> “Or” operator creates the break.
Meaning R thinks you are asking for; Athletes with the orthodox stance
and 27 or more total fights… <em>OR</em> athletes with 15 or more wins
by submission. Try running the code without the brackets and seeing what
happens
</p>
<p>
<code>Q5Alt &lt;- filter(MMA_Data, Stance == “Orthodox” &amp; T_Fights &gt;= 27 | W_by_Sub &gt;= 15)</code>
</p>
<p>
Hopefully now you can understand the difference.
</p>
</div>
</div>
<p>How many athletes (observations) are left in <code>Q5</code>? <input class='webex-solveme nospaces' size='2' data-answer='["44"]'/></p>
</div>
<div id="mutate-1" class="section level3 hasAnchor" number="4.2.4">
<h3><span class="header-section-number">4.2.4</span> mutate()<a href="data-transformation-2-more-one-and-two-table-verbs.html#mutate-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Moving on to mutate() now.</p>
<p>Lets add a new column onto the table <code>Example_1</code>, that shows <code>Reach</code> but in meters rather than inches, and we’ll call it <code>ReachM</code>. We can make this column with <code>mutate()</code> by converting the inches value in the original <code>Reach</code> column into centimeters, by multiplying (<code>*</code>) the value by <code>2.54</code> and then dividing (<code>/</code>) the result by <code>100</code>.</p>
<div class="sourceCode" id="cb201"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb201-1"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb201-1" aria-hidden="true" tabindex="-1"></a>Example_4 <span class="ot">&lt;-</span> <span class="fu">mutate</span>(Example_1, <span class="at">ReachM =</span> (Reach<span class="sc">*</span><span class="fl">2.54</span>)<span class="sc">/</span><span class="dv">100</span>)</span>
<span id="cb201-2"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb201-2" aria-hidden="true" tabindex="-1"></a>Example_4</span></code></pre></div>
<pre><code>## # A tibble: 199 x 7
##    ID               Height Weight   BMI Reach Stance   ReachM
##    &lt;chr&gt;             &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;     &lt;dbl&gt;
##  1 056c493bbd76a918     64    125  21.5    64 Orthodox   1.63
##  2 b102c26727306ab6     65    125  20.8    67 Orthodox   1.70
##  3 80eacd4da0617c57     64    125  21.5    65 Southpaw   1.65
##  4 a4de54ea806fb525     64    125  21.5    63 Orthodox   1.60
##  5 aa72b0f831d0bfe5     65    125  20.8    68 Orthodox   1.73
##  6 92437c6775b3f7d1     66    125  20.2    66 Orthodox   1.68
##  7 5aedf14771ca82d2     64    125  21.5    65 Southpaw   1.65
##  8 a0f0004aadf10b71     65    125  20.8    67 Orthodox   1.70
##  9 f53c1f4ceeed8c08     65    125  20.8    65 Orthodox   1.65
## 10 ab2b4ff41d6ebe0f     66    125  20.2    65 Orthodox   1.65
## # ... with 189 more rows</code></pre>
<p><span style="font-size: 22px; font-weight: bold; color: hsl(24, 100%, 50%);">Question Time</span></p>
<div class="task">
<p>
<strong>Your turn</strong>
</p>
<p>
Take the table <code>Example_1</code> and mutate a new column onto it
called <code>BMI_Alt</code>, this time attempting to recalculate BMI
using the Weight and Height variables. The calculation for BMI is;
weight in kilograms devided by height in meters squared. Lets break down
the steps, you will need to; - multiply <code>Weight</code> by 0.453 (to
convert lbs to kgs) - divide that by… - <code>Height</code> multiplied
2.54 (to convert inches to cm), which you divide by 100 (to convert to
m), which you then square Store the result in <code>Q5</code>.
</p>
<ul>
<li>
Hint - the <code>^</code> symbol is for calculating “to the power
of”
</li>
</ul>
</div>
<div class="webex-solution">
<button>
Solution
</button>
<div class="sourceCode" id="cb203"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb203-1"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb203-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Jaimie&#39;s solution</span></span>
<span id="cb203-2"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb203-2" aria-hidden="true" tabindex="-1"></a>Q6 <span class="ot">&lt;-</span> <span class="fu">mutate</span>(Example_1, <span class="at">BMI_Alt =</span> (Weight<span class="sc">*</span><span class="fl">0.453</span>)<span class="sc">/</span>(((Height<span class="sc">*</span><span class="fl">2.54</span>)<span class="sc">/</span><span class="dv">100</span>)<span class="sc">^</span><span class="dv">2</span>))</span></code></pre></div>
</div>
<div class="info">
<p>
Don’t be worried if your new column is different by a few decimals
(the original BMI was created with a slightly different calculation with
different rounding). If they look approximately similar you have done it
correctly.
</p>
</div>
</div>
<div id="group_by-and-summarise" class="section level3 hasAnchor" number="4.2.5">
<h3><span class="header-section-number">4.2.5</span> group_by() and summarise()<a href="data-transformation-2-more-one-and-two-table-verbs.html#group_by-and-summarise" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Now let’s brush up on group_by and summarise().</p>
<p>Here we will take the original table <code>MMA_Data</code> and group that data by <code>WeightClass</code>.
Then we will create <code>mean()</code> summary stats for:
Number of hits landed per minute (<code>TLpM</code>) and we’ll call that column <code>MeanHit</code>,
Number of hits absorbed per minute (<code>AbpM</code>) and we’ll call that column <code>MeanAbsorb</code>,
And average fight length (<code>Time_Avg</code>) and we’ll call that column <code>MeanTime</code>.</p>
<div class="sourceCode" id="cb204"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb204-1"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb204-1" aria-hidden="true" tabindex="-1"></a>Example_5a <span class="ot">&lt;-</span> <span class="fu">group_by</span>(MMA_Data, WeightClass)</span>
<span id="cb204-2"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb204-2" aria-hidden="true" tabindex="-1"></a>Example_5b <span class="ot">&lt;-</span> <span class="fu">summarise</span>(Example_5a, <span class="at">MeanHit =</span> <span class="fu">mean</span>(TLpM), <span class="at">MeanAbsorb =</span> <span class="fu">mean</span>(AbpM), <span class="at">MeanTime =</span> <span class="fu">mean</span>(Time_Avg))</span>
<span id="cb204-3"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb204-3" aria-hidden="true" tabindex="-1"></a>Example_5b</span></code></pre></div>
<pre><code>## # A tibble: 8 x 4
##   WeightClass      MeanHit MeanAbsorb MeanTime
##   &lt;chr&gt;              &lt;dbl&gt;      &lt;dbl&gt;    &lt;dbl&gt;
## 1 Bantamweight        5.46       3.38    11.3 
## 2 Featherweight       5.43       3.46    11.8 
## 3 Flyweight           4.78       2.64    11.9 
## 4 Heavyweight         5.28       3.14    10.1 
## 5 LightHeavyweight    6.05       2.97     9.12
## 6 Lightweight         5.19       3.25     9.93
## 7 Middleweight        5.11       2.78    10.2 
## 8 Welterweight        5.09       2.94    11.7</code></pre>
<p><span style="font-size: 22px; font-weight: bold; color: hsl(24, 100%, 50%);">Question Time</span></p>
<p>Which weightclass has the highest Hit average? <input class='webex-solveme nospaces' size='16' data-answer='["LightHeavyweight"]'/> <br>
Which weightclass has the lowest Absorbtion average? <input class='webex-solveme nospaces' size='9' data-answer='["Flyweight"]'/> <br>
Which weightclass has the highest average time? <input class='webex-solveme nospaces' size='9' data-answer='["Flyweight"]'/> <br></p>
<div class="task">
<p>
<strong>Your turn</strong>
</p>
<p>
Take the original table <code>MMA_Data</code> and group that data by
<code>Stance</code> and <code>HeightClass</code> and store that in
<code>Q7a</code>. Then create summary stats for success rate
(<code>Success</code>), you should have columns called;
<code>MedSuccess</code> that shows the median success rate
<code>MaxSuccess</code> that shows the maximum success rate
<code>MinSuccess</code> that shows the minimum success rate
<code>SDSuccess</code> that shows the standard deviation of success rate
The resulting table should be stored in <code>Q7b</code>.
</p>
</div>
<div class="webex-solution">
<button>
Solution
</button>
<div class="sourceCode" id="cb206"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb206-1"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb206-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Jaimie&#39;s solution</span></span>
<span id="cb206-2"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb206-2" aria-hidden="true" tabindex="-1"></a>Q7a <span class="ot">&lt;-</span> <span class="fu">group_by</span>(MMA_Data, Stance, HeightClass)</span>
<span id="cb206-3"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb206-3" aria-hidden="true" tabindex="-1"></a>Q7b <span class="ot">&lt;-</span> <span class="fu">summarise</span>(Q7a, <span class="at">MedSuccess =</span> <span class="fu">median</span>(Success), <span class="at">MaxSuccess =</span> <span class="fu">max</span>(Success), <span class="at">MinSuccess =</span> <span class="fu">min</span>(Success), <span class="at">SDSuccess =</span> <span class="fu">sd</span>(Success))</span></code></pre></div>
<pre><code>## `summarise()` has grouped output by &#39;Stance&#39;. You can override using the
## `.groups` argument.</code></pre>
</div>
<p>Which Stance/HeightClass combo has the highest median success rate? (enter your answers in the format Stance/HeightClass) <input class='webex-solveme nospaces' size='11' data-answer='["Swithc/Tall"]'/> <br>
What is the minimum success rate of tall athletes with an orthodox stance? <input class='webex-solveme nospaces' size='5' data-answer='["0.415"]'/> <br>
What is the standard deviation in success rate for short athletes with a southpaw stance? (write your answer to 3 decimal places) <input class='webex-solveme nospaces' size='5' data-answer='["0.062"]'/> <br></p>
</div>
<div id="bringing-it-all-together" class="section level3 hasAnchor" number="4.2.6">
<h3><span class="header-section-number">4.2.6</span> Bringing it all together<a href="data-transformation-2-more-one-and-two-table-verbs.html#bringing-it-all-together" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><span style="font-size: 22px; font-weight: bold; color: hsl(24, 100%, 50%);">Question Time</span></p>
<div class="task">
<p>
<strong>Your turn</strong> This is another multi-part question…
</p>
<ul>
<li>
Take the original table <code>MMA_Data</code>, and select just
<code>ID</code>, <code>WeightClass</code>, <code>Stance</code>,
<code>T_Wins</code>, <code>W_by_Decision</code>,
<code>W_by_KO/TKO</code> and <code>W_by_Sub</code>. Store the result in
<code>Q8a</code>.
</li>
<li>
Take <code>Q8a</code> and filter out all the athletes with the
“Southpaw” <code>Stance</code>. Store the result in Q8b.
</li>
<li>
Take <code>Q8b</code> and mutate on a new column called
<code>Perc_W_by_Dec</code> that shows the percentage of total wins
(<code>T_Wins</code>) that are accounted for by decisions
(<code>W_by_Decision</code>). Store the result in <code>Q8c</code>.
</li>
<li>
Take <code>Q8c</code> and group that data by
<code>WeightClass</code>. Store the result in <code>Q8d</code>.
</li>
<li>
Take <code>Q8d</code> and create summary stats that show the mean of
<code>Perc_W_by_Dec</code>. Store the result in <code>Q8e</code>.
</li>
</ul>
</div>
<div class="webex-solution">
<button>
Solution
</button>
<div class="sourceCode" id="cb208"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb208-1"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb208-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Jaimie&#39;s solution</span></span>
<span id="cb208-2"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb208-2" aria-hidden="true" tabindex="-1"></a>Q8a <span class="ot">&lt;-</span> <span class="fu">select</span>(MMA_Data, ID, WeightClass, Stance, T_Wins, W_by_Decision, <span class="st">&quot;W_by_KO/TKO&quot;</span>, W_by_Sub)</span>
<span id="cb208-3"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb208-3" aria-hidden="true" tabindex="-1"></a>Q8b <span class="ot">&lt;-</span> <span class="fu">filter</span>(Q8a, Stance <span class="sc">!=</span> <span class="st">&quot;Southpaw&quot;</span>)</span>
<span id="cb208-4"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb208-4" aria-hidden="true" tabindex="-1"></a>Q8c <span class="ot">&lt;-</span> <span class="fu">mutate</span>(Q8b, <span class="at">Perc_W_by_Dec =</span> (W_by_Decision<span class="sc">/</span>T_Wins)<span class="sc">*</span><span class="dv">100</span>)</span>
<span id="cb208-5"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb208-5" aria-hidden="true" tabindex="-1"></a>Q8d <span class="ot">&lt;-</span> <span class="fu">group_by</span>(Q8c, WeightClass)</span>
<span id="cb208-6"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb208-6" aria-hidden="true" tabindex="-1"></a>Q8e <span class="ot">&lt;-</span> <span class="fu">summarise</span>(Q8d, <span class="at">AvgPercDec =</span> <span class="fu">mean</span>(Perc_W_by_Dec))</span></code></pre></div>
</div>
<p>Which weightclass has the lowest average percentage of wins by decision? <input class='webex-solveme nospaces' size='11' data-answer='["Heavyweight"]'/></p>
</div>
</div>
<div id="pipes" class="section level2 hasAnchor" number="4.3">
<h2><span class="header-section-number">4.3</span> The pipe operator (%&gt;%)<a href="data-transformation-2-more-one-and-two-table-verbs.html#pipes" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>As you may have noticed, your environment pane has become increasingly cluttered. Indeed, every time you introduced a new line of code, you created a uniquely-named object (unless your original object is overwritten). This can become confusing and time-consuming. One solution is the pipe operator (<code>%&gt;%</code>) which aims to increase efficiency and improve the readability of your code. The pipe operator (<code>%&gt;%</code>) read as <strong>“and then”</strong> allows you to chain functions together, eliminating the need to create intermediary objects. This creates a “pipeline”, allowing the “flow” of data between lines of code, as the output of one function “flows” into the next function. There is no limit as to how many functions you can chain together in a single pipeline.</p>
<p>For example, in order to <code>filter()</code>, <code>group_by()</code> and <code>summarise()</code> the data, you would have used the following code lines:</p>
<div class="sourceCode" id="cb209"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb209-1"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb209-1" aria-hidden="true" tabindex="-1"></a>Example_6a <span class="ot">&lt;-</span> <span class="fu">filter</span>(MMA_Data, ReachClass <span class="sc">==</span> <span class="st">&quot;Above&quot;</span>)</span>
<span id="cb209-2"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb209-2" aria-hidden="true" tabindex="-1"></a>Example_6b <span class="ot">&lt;-</span> <span class="fu">group_by</span>(Example_6a, WeightClass)</span>
<span id="cb209-3"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb209-3" aria-hidden="true" tabindex="-1"></a>Example_6c <span class="ot">&lt;-</span> <span class="fu">summarise</span>(Example_6b, <span class="at">MeanSub =</span> <span class="fu">mean</span>(SubAtt_Avg))</span>
<span id="cb209-4"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb209-4" aria-hidden="true" tabindex="-1"></a>Example_6c</span></code></pre></div>
<pre><code>## # A tibble: 6 x 2
##   WeightClass      MeanSub
##   &lt;chr&gt;              &lt;dbl&gt;
## 1 Featherweight      0.395
## 2 Heavyweight        0.521
## 3 LightHeavyweight   0.613
## 4 Lightweight        0.757
## 5 Middleweight       0.498
## 6 Welterweight       0.520</code></pre>
<p>However, utilisation of the pipe operator (<code>%&gt;%</code>) can simplify this process and create only one object (<code>Example_7</code>) as shown:</p>
<div class="sourceCode" id="cb211"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb211-1"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb211-1" aria-hidden="true" tabindex="-1"></a>Example_7 <span class="ot">&lt;-</span> MMA_Data <span class="sc">%&gt;%</span></span>
<span id="cb211-2"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb211-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(ReachClass <span class="sc">==</span> <span class="st">&quot;Above&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb211-3"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb211-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(WeightClass) <span class="sc">%&gt;%</span></span>
<span id="cb211-4"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb211-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">MeanSub =</span> <span class="fu">mean</span>(SubAtt_Avg))</span>
<span id="cb211-5"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb211-5" aria-hidden="true" tabindex="-1"></a>Example_7</span></code></pre></div>
<pre><code>## # A tibble: 6 x 2
##   WeightClass      MeanSub
##   &lt;chr&gt;              &lt;dbl&gt;
## 1 Featherweight      0.395
## 2 Heavyweight        0.521
## 3 LightHeavyweight   0.613
## 4 Lightweight        0.757
## 5 Middleweight       0.498
## 6 Welterweight       0.520</code></pre>
<p>As you can see, <code>Example_7</code> produces the same output as <code>Example_6c</code>. So, pipes automatically take the output from one function and feed it directly to the next function. Without pipes, you needed to insert your chosen dataset as the first argument to every function. With pipes, you are only required to specify the original dataset (i.e <code>MMA_Data</code>) once at the beginning of the pipeline, and removes the need to create unnecessary intermediary objects. You now no longer need the first argument of each of the subsequent functions anymore, because the pipe will know to look at the output from the previous step in the pipeline.</p>
<div class="task">
<p>
<strong>Your turn</strong>
</p>
<p>
Amend all of your code from Question8 and turn it into a single
pipeline Save this as an object called <code>Q9</code> to your
<code>Global Environment</code>.
</p>
</div>
<div class="webex-solution">
<button>
Solution
</button>
<div class="sourceCode" id="cb213"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb213-1"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb213-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Jaimie&#39;s solution</span></span>
<span id="cb213-2"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb213-2" aria-hidden="true" tabindex="-1"></a>Q9 <span class="ot">&lt;-</span> MMA_Data <span class="sc">%&gt;%</span></span>
<span id="cb213-3"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb213-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(ID, WeightClass, Stance, T_Wins, W_by_Decision, <span class="st">&quot;W_by_KO/TKO&quot;</span>, W_by_Sub) <span class="sc">%&gt;%</span></span>
<span id="cb213-4"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb213-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Stance <span class="sc">!=</span> <span class="st">&quot;Southpaw&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb213-5"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb213-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Perc_W_by_Dec =</span> (W_by_Decision<span class="sc">/</span>T_Wins)<span class="sc">*</span><span class="dv">100</span>) <span class="sc">%&gt;%</span></span>
<span id="cb213-6"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb213-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(WeightClass) <span class="sc">%&gt;%</span></span>
<span id="cb213-7"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb213-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">AvgPercDec =</span> <span class="fu">mean</span>(Perc_W_by_Dec))</span>
<span id="cb213-8"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb213-8" aria-hidden="true" tabindex="-1"></a>Q9</span></code></pre></div>
<pre><code>## # A tibble: 8 x 2
##   WeightClass      AvgPercDec
##   &lt;chr&gt;                 &lt;dbl&gt;
## 1 Bantamweight           37.5
## 2 Featherweight          35.8
## 3 Flyweight              36.7
## 4 Heavyweight            19.4
## 5 LightHeavyweight       25.3
## 6 Lightweight            28.7
## 7 Middleweight           27.8
## 8 Welterweight           33.3</code></pre>
</div>
<p>If done correct <code>Q9</code> should look identical to <code>Q8e</code></p>
<div class="funfact">
<p>
Note that in the above code chunk, the data object has been on its
own line in the code followed immediately by <code>%&gt;%</code> before
starting with the “functions”.
</p>
<p>
The other option would have been to put the data object as the first
argument within the first function.
</p>
<p>
The benefit of having the data on its own is that you can reorder
functions easily or squeeze another one in (for example if you
summarised something but forgot to group beforehand) without the need to
“move” the data object into the new first argument of the pipeline.
</p>
</div>
</div>
<div id="two-table-verbs" class="section level2 hasAnchor" number="4.4">
<h2><span class="header-section-number">4.4</span> Two-Table Verbs<a href="data-transformation-2-more-one-and-two-table-verbs.html#two-table-verbs" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>More often than not you will find yourself with data across multiple tables. In order to effectively combine multiple tables, <code>dplyr</code> provides a selection of <strong>two-table verbs</strong>. Today we will focus on two categories of two-table verbs - mutating join verbs and binding join verbs.</p>
<div id="bringing-in-new-data" class="section level3 hasAnchor" number="4.4.1">
<h3><span class="header-section-number">4.4.1</span> Bringing in new data<a href="data-transformation-2-more-one-and-two-table-verbs.html#bringing-in-new-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>First of all lets bring in some new data to look at these new functions.</p>
<div id="whats-the-data" class="section level4 hasAnchor" number="4.4.1.1">
<h4><span class="header-section-number">4.4.1.1</span> What’s the data<a href="data-transformation-2-more-one-and-two-table-verbs.html#whats-the-data" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Source: Met Office National Climate Information Centre
<a href="https://www.metoffice.gov.uk/research/climate/maps-and-data/uk-and-regional-series" class="uri">https://www.metoffice.gov.uk/research/climate/maps-and-data/uk-and-regional-series</a></p>
<p>wos_seasonal_sun: Seasonal total duration of bright sunshine for Scotland W; Areal series, starting in 1919</p>
<p>wos_monthly_sun: Monthly and annual total duration of bright sunshine for Scotland W; Areal series, starting in 1919</p>
<p>wos_seasonal_rain: Seasonal total precipitation amount for Scotland W; Areal series, starting in 1862</p>
<p>wos_monthly_rain: Monthly and annual total precipitation amount for Scotland W; Areal series, starting in 1862</p>
<div class="sourceCode" id="cb215"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb215-1"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb215-1" aria-hidden="true" tabindex="-1"></a>wos_seasonal_sun <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;wos_seasonal_sun.csv&quot;</span>)</span></code></pre></div>
<pre><code>## Rows: 102 Columns: 5
## -- Column specification --------------------------------------------------------
## Delimiter: &quot;,&quot;
## dbl (5): year, win, spr, sum, aut
## 
## i Use `spec()` to retrieve the full column specification for this data.
## i Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
<div class="sourceCode" id="cb217"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb217-1"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb217-1" aria-hidden="true" tabindex="-1"></a>wos_monthly_sun <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;wos_monthly_sun.csv&quot;</span>)</span></code></pre></div>
<pre><code>## Rows: 102 Columns: 14
## -- Column specification --------------------------------------------------------
## Delimiter: &quot;,&quot;
## dbl (14): year, jan, feb, mar, apr, may, jun, jul, aug, sep, oct, nov, dec, ann
## 
## i Use `spec()` to retrieve the full column specification for this data.
## i Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
<div class="sourceCode" id="cb219"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb219-1"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb219-1" aria-hidden="true" tabindex="-1"></a>wos_seasonal_rain <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;wos_seasonal_rain.csv&quot;</span>)</span></code></pre></div>
<pre><code>## Rows: 154 Columns: 5
## -- Column specification --------------------------------------------------------
## Delimiter: &quot;,&quot;
## dbl (5): year, win, spr, sum, aut
## 
## i Use `spec()` to retrieve the full column specification for this data.
## i Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
<div class="sourceCode" id="cb221"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb221-1"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb221-1" aria-hidden="true" tabindex="-1"></a>wos_monthly_rain <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;wos_monthly_rain.csv&quot;</span>)</span></code></pre></div>
<pre><code>## Rows: 154 Columns: 14
## -- Column specification --------------------------------------------------------
## Delimiter: &quot;,&quot;
## dbl (14): year, jan, feb, mar, apr, may, jun, jul, aug, sep, oct, nov, dec, ann
## 
## i Use `spec()` to retrieve the full column specification for this data.
## i Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
</div>
<div id="mutating-join-verbs" class="section level3 hasAnchor" number="4.4.2">
<h3><span class="header-section-number">4.4.2</span> Mutating Join Verbs<a href="data-transformation-2-more-one-and-two-table-verbs.html#mutating-join-verbs" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Mutating join verbs combine the variables (columns) of two tables so that matching rows are together. There are 4 different types of mutating joins, namely <code>inner_join()</code>, <code>left_join()</code>, <code>right_join()</code>, and <code>full_join()</code>.</p>
<p>Mutating joins have the following basic syntax:</p>
<center>
<img src="images/join.PNG">
</center>
<p>To help you visualise what these joining functions are doing, we will use some simple diagrams, like the one below. Here <code>data1</code> (shown below in blue) represents our “left” dataframe (or table) and <code>data2</code> (shown below in green) represents our “right” dataframe.</p>
<center>
<img src="images/join_tables.png" height="200">
</center>
<p>To make things nice and clear to see, lets simplify our data a litte.</p>
<div class="sourceCode" id="cb223"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb223-1"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb223-1" aria-hidden="true" tabindex="-1"></a>Summer_Rain <span class="ot">&lt;-</span> wos_seasonal_rain <span class="sc">%&gt;%</span> </span>
<span id="cb223-2"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb223-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(year, sum)</span>
<span id="cb223-3"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb223-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb223-4"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb223-4" aria-hidden="true" tabindex="-1"></a>Summer_Sun <span class="ot">&lt;-</span> wos_seasonal_sun <span class="sc">%&gt;%</span> </span>
<span id="cb223-5"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb223-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(year, sum)</span>
<span id="cb223-6"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb223-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb223-7"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb223-7" aria-hidden="true" tabindex="-1"></a>Summer_Rain</span></code></pre></div>
<pre><code>## # A tibble: 154 x 2
##     year   sum
##    &lt;dbl&gt; &lt;dbl&gt;
##  1  1862  426.
##  2  1863  299.
##  3  1864  255.
##  4  1865  274.
##  5  1866  345.
##  6  1867  340.
##  7  1868  295.
##  8  1869  183.
##  9  1870  205.
## 10  1871  349.
## # ... with 144 more rows</code></pre>
<div class="sourceCode" id="cb225"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb225-1"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb225-1" aria-hidden="true" tabindex="-1"></a>Summer_Sun</span></code></pre></div>
<pre><code>## # A tibble: 102 x 2
##     year   sum
##    &lt;dbl&gt; &lt;dbl&gt;
##  1  1919  524.
##  2  1920  411.
##  3  1921  509 
##  4  1922  385.
##  5  1923  327.
##  6  1924  329.
##  7  1925  529.
##  8  1926  512.
##  9  1927  446 
## 10  1928  408.
## # ... with 92 more rows</code></pre>
<div class="info">
<p>
Now we have; * rain data for the summer months from 1862 to 2015
(<code>Summer_Rain</code>) * sunshine data for the summer months from
1919 to 2020 (<code>Summer_Sun</code>) Notice they have data from some
of the same years, but also have data from years unique to each
table
</p>
</div>
<div id="inner_join" class="section level4 hasAnchor" number="4.4.2.1">
<h4><span class="header-section-number">4.4.2.1</span> inner_join()<a href="data-transformation-2-more-one-and-two-table-verbs.html#inner_join" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p><code>inner_join()</code> returns all rows from both tables for which the values in column specified in the <code>"by = "</code> statement overlap.</p>
<center>
<img src="images/inner_join1.png">
</center>
<p>Here we merge <code>Summer_Sun</code> and <code>Summer_Rain</code> with <code>inner_join()</code> specifying we want to “join by” the variable <code>year</code>. Becuase the remaining variable has the same name in both tables, R needs to distiguish them from each other, for that we use the <code>suffix =</code> arguement, which allows us to specify what suffix to add to each column of the resulting table. If we do not spcify this, R will add a <code>.x</code> and <code>.y</code> suffix for us to the x (left) and y (right) table variables respectively.</p>
<div class="sourceCode" id="cb227"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb227-1"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb227-1" aria-hidden="true" tabindex="-1"></a>inner <span class="ot">&lt;-</span> <span class="fu">inner_join</span>(Summer_Sun, Summer_Rain, <span class="at">by=</span><span class="st">&quot;year&quot;</span>, <span class="at">suffix =</span> <span class="fu">c</span>(<span class="st">&quot;_sun&quot;</span>, <span class="st">&quot;_rain&quot;</span>))</span>
<span id="cb227-2"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb227-2" aria-hidden="true" tabindex="-1"></a>inner</span></code></pre></div>
<pre><code>## # A tibble: 97 x 3
##     year sum_sun sum_rain
##    &lt;dbl&gt;   &lt;dbl&gt;    &lt;dbl&gt;
##  1  1919    524.     298 
##  2  1920    411.     358.
##  3  1921    509      354.
##  4  1922    385.     334.
##  5  1923    327.     444.
##  6  1924    329.     395.
##  7  1925    529.     228.
##  8  1926    512.     367 
##  9  1927    446      433.
## 10  1928    408.     440.
## # ... with 87 more rows</code></pre>
<p>Using an inner join returns only 97 (1919 to 2015) rows of observations because these are the only years in <code>year</code> that are present in both the Sun (1919 to 2020) and the Rain (1862 to 2015) data tables. However, we are still merging both tibbles together, meaning that all columns from <code>Summer_Sun</code> and <code>Summer_Rain</code> are kept (in our case <code>sum</code>, with a suffix added to each to tell them appart). In this example, the years 1862 to 1918, are dropped becuase they are not present in the Sun data, and the years 2016 to 2020 are dropped becuase they are not present in the Rain data.</p>
<div class="funfact">
<p>
If you don’t specify which variable to “join by”, and omit the by
statement, the R will joing by all columns in common…
</p>
<p>
Try it for yourself in the <code>Console</code> and see what
happens
</p>
</div>
<p><span style="font-size: 22px; font-weight: bold; color: hsl(24, 100%, 50%);">Question Time</span></p>
<p>How many rows (or observations) does <code>inner</code> have? <input class='webex-solveme nospaces' size='2' data-answer='["97"]'/> <br>
How many columns (or variables) does <code>inner</code> have? <input class='webex-solveme nospaces' size='1' data-answer='["3"]'/> <br></p>
</div>
<div id="left_join" class="section level4 hasAnchor" number="4.4.2.2">
<h4><span class="header-section-number">4.4.2.2</span> left_join()<a href="data-transformation-2-more-one-and-two-table-verbs.html#left_join" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p><code>left_join()</code> retains the complete first (left) table and adds values from the second (right) table that have matching values in the column specified in the <code>"by ="</code> statement. Rows in the left table with no match in the right table will have missing values (<code>NA</code>) in the new columns.</p>
<center>
<img src="images/left_join1.png">
</center>
<p>Let’s try this <code>left_join()</code> function for our simple example of <code>Summer_Sun</code> and <code>Summer_Rain</code> in R.</p>
<div class="sourceCode" id="cb229"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb229-1"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb229-1" aria-hidden="true" tabindex="-1"></a>left <span class="ot">&lt;-</span> <span class="fu">left_join</span>(Summer_Sun, Summer_Rain, <span class="at">by=</span><span class="st">&quot;year&quot;</span>, <span class="at">suffix =</span> <span class="fu">c</span>(<span class="st">&quot;_sun&quot;</span>, <span class="st">&quot;_rain&quot;</span>))</span>
<span id="cb229-2"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb229-2" aria-hidden="true" tabindex="-1"></a>left</span></code></pre></div>
<pre><code>## # A tibble: 102 x 3
##     year sum_sun sum_rain
##    &lt;dbl&gt;   &lt;dbl&gt;    &lt;dbl&gt;
##  1  1919    524.     298 
##  2  1920    411.     358.
##  3  1921    509      354.
##  4  1922    385.     334.
##  5  1923    327.     444.
##  6  1924    329.     395.
##  7  1925    529.     228.
##  8  1926    512.     367 
##  9  1927    446      433.
## 10  1928    408.     440.
## # ... with 92 more rows</code></pre>
<p>Here <code>Summer_Sun</code> is returned in full, and for every matching <code>year</code> in <code>Summer_Rain</code> the value is added. However, <code>Summer_Rain</code> does not have any value for the years 2016 to 2020, hence <code>NA</code> is added here to the column <code>sum_rain</code>.</p>
<p><span style="font-size: 22px; font-weight: bold; color: hsl(24, 100%, 50%);">Question Time</span></p>
<p>How many rows (or observations) does <code>left</code> have? <input class='webex-solveme nospaces' size='3' data-answer='["102"]'/> <br>
How many columns (or variables) does <code>left</code> have? <input class='webex-solveme nospaces' size='1' data-answer='["3"]'/> <br></p>
</div>
<div id="right_join" class="section level4 hasAnchor" number="4.4.2.3">
<h4><span class="header-section-number">4.4.2.3</span> right_join()<a href="data-transformation-2-more-one-and-two-table-verbs.html#right_join" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p><code>right_join()</code> retains the complete second (right) table and adds values from the first (left) table that have matching values in the column specified in the by statement. Rows in the right table with no match in the left table will have missing values (<code>NA</code>) in the new columns.</p>
<center>
<img src="images/right_join1.png">
</center>
<p>However, code-wise, you would still enter x as the first, and y as the second argument within <code>right_join()</code>.</p>
<div class="sourceCode" id="cb231"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb231-1"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb231-1" aria-hidden="true" tabindex="-1"></a>right <span class="ot">&lt;-</span> <span class="fu">right_join</span>(Summer_Sun, Summer_Rain, <span class="at">by=</span><span class="st">&quot;year&quot;</span>, <span class="at">suffix =</span> <span class="fu">c</span>(<span class="st">&quot;_sun&quot;</span>, <span class="st">&quot;_rain&quot;</span>))</span>
<span id="cb231-2"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb231-2" aria-hidden="true" tabindex="-1"></a>right</span></code></pre></div>
<pre><code>## # A tibble: 154 x 3
##     year sum_sun sum_rain
##    &lt;dbl&gt;   &lt;dbl&gt;    &lt;dbl&gt;
##  1  1919    524.     298 
##  2  1920    411.     358.
##  3  1921    509      354.
##  4  1922    385.     334.
##  5  1923    327.     444.
##  6  1924    329.     395.
##  7  1925    529.     228.
##  8  1926    512.     367 
##  9  1927    446      433.
## 10  1928    408.     440.
## # ... with 144 more rows</code></pre>
<p>Here <code>Summer_Rain</code> is returned in full, and for every matching <code>year</code> in <code>Summer_Sun</code> the value is added, for any row of <code>Summer_Rain</code> that does not have a mating value in <code>Summer_Sun</code>, <code>NA</code> is added. Notice the order of the rows, though!!! All the years of <code>Summer_Sun</code> come first before the extra rows from <code>Summer_Rain</code> are added at the bottom. That is due to the order of how they are entered into the <code>right_join()</code> function. The “left” data (first table) is still prioritised in terms of ordering observations!</p>
<p><span style="font-size: 22px; font-weight: bold; color: hsl(24, 100%, 50%);">Question Time</span></p>
<p>How many rows (or observations) does <code>right</code> have? <input class='webex-solveme nospaces' size='3' data-answer='["154"]'/> <br></p>
</div>
<div id="full_join" class="section level4 hasAnchor" number="4.4.2.4">
<h4><span class="header-section-number">4.4.2.4</span> full_join()<a href="data-transformation-2-more-one-and-two-table-verbs.html#full_join" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p><code>full_join()</code> returns all rows and all columns from both dataframes. <code>NA</code> values fill unmatched rows.</p>
<center>
<img src="images/full_join1.png">
</center>
<div class="sourceCode" id="cb233"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb233-1"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb233-1" aria-hidden="true" tabindex="-1"></a>full <span class="ot">&lt;-</span> <span class="fu">full_join</span>(Summer_Sun, Summer_Rain, <span class="at">by=</span><span class="st">&quot;year&quot;</span>, <span class="at">suffix =</span> <span class="fu">c</span>(<span class="st">&quot;_sun&quot;</span>, <span class="st">&quot;_rain&quot;</span>))</span>
<span id="cb233-2"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb233-2" aria-hidden="true" tabindex="-1"></a>full</span></code></pre></div>
<pre><code>## # A tibble: 159 x 3
##     year sum_sun sum_rain
##    &lt;dbl&gt;   &lt;dbl&gt;    &lt;dbl&gt;
##  1  1919    524.     298 
##  2  1920    411.     358.
##  3  1921    509      354.
##  4  1922    385.     334.
##  5  1923    327.     444.
##  6  1924    329.     395.
##  7  1925    529.     228.
##  8  1926    512.     367 
##  9  1927    446      433.
## 10  1928    408.     440.
## # ... with 149 more rows</code></pre>
<p>As you can see, all years from both tables are kept, and <code>NA</code> is used to fill the missing years (1862 to 1918 for <code>sum_sun</code>, and 2016 to 2020 for <code>sum_rain</code>). Again you can see the prioritization of the left (first) table in the arrangement of the years.</p>
<p><span style="font-size: 22px; font-weight: bold; color: hsl(24, 100%, 50%);">Question Time</span></p>
<p>How many rows (or observations) does <code>full</code> have? <input class='webex-solveme nospaces' size='3' data-answer='["159"]'/> <br></p>
</div>
</div>
<div id="mutating-join-summary" class="section level3 hasAnchor" number="4.4.3">
<h3><span class="header-section-number">4.4.3</span> Mutating Join Summary<a href="data-transformation-2-more-one-and-two-table-verbs.html#mutating-join-summary" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<table>
<colgroup>
<col width="28%" />
<col width="71%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">join function</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">inner_join()</td>
<td align="left">Includes all rows that are PRESENT IN BOTH the left and the right table</td>
</tr>
<tr class="even">
<td align="left">left_join()</td>
<td align="left">Includes all rows from the left table (first data entered)</td>
</tr>
<tr class="odd">
<td align="left">left_join()</td>
<td align="left">Includes all rows from the right table (second data entered)</td>
</tr>
<tr class="even">
<td align="left">full_join()</td>
<td align="left">Includes all rows from both left and right tables</td>
</tr>
</tbody>
</table>
<p><span style="font-size: 22px; font-weight: bold; color: hsl(24, 100%, 50%);">Question Time</span></p>
<div class="task">
<p>
<strong>Your turn</strong>
</p>
<p>
Join together <code>wos_seasonal_rain</code> and
<code>wos_seasonal_sun</code> so that we keep all the rows from the
<code>wos_seasonal_sun</code> table, add a useful suffix so you can
differentiate between columns with the same name. Store the result in
<code>Q10</code>.
</p>
</div>
<div class="webex-solution">
<button>
Solution
</button>
<div class="sourceCode" id="cb235"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb235-1"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb235-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Jaimie&#39;s solution</span></span>
<span id="cb235-2"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb235-2" aria-hidden="true" tabindex="-1"></a>Q10 <span class="ot">&lt;-</span> <span class="fu">left_join</span>(wos_seasonal_sun, wos_seasonal_rain, <span class="at">by =</span> <span class="st">&quot;year&quot;</span>, <span class="at">suffix =</span> <span class="fu">c</span>(<span class="st">&quot;_sun&quot;</span>, <span class="st">&quot;_rain&quot;</span>))</span>
<span id="cb235-3"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb235-3" aria-hidden="true" tabindex="-1"></a><span class="co">#OR </span></span>
<span id="cb235-4"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb235-4" aria-hidden="true" tabindex="-1"></a>Q10 <span class="ot">&lt;-</span> <span class="fu">right_join</span>(wos_seasonal_rain, wos_seasonal_sun, <span class="at">by =</span> <span class="st">&quot;year&quot;</span>, <span class="at">suffix =</span> <span class="fu">c</span>(<span class="st">&quot;_rain&quot;</span>, <span class="st">&quot;_sun&quot;</span>))</span>
<span id="cb235-5"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb235-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb235-6"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb235-6" aria-hidden="true" tabindex="-1"></a>Q10</span></code></pre></div>
<pre><code>## # A tibble: 102 x 9
##     year win_rain spr_rain sum_rain aut_rain win_sun spr_sun sum_sun aut_sun
##    &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;
##  1  1919     389.     260.     298      339.    NA      414.    524.    257.
##  2  1920     704.     428.     358.     374.   111.     328.    411.    219.
##  3  1921     489.     390.     354.     340.   104.     404.    509     222.
##  4  1922     620      309.     334.     290.   102.     457.    385.    252.
##  5  1923     531.     266.     444.     649.    77.2    430.    327.    245.
##  6  1924     406.     262.     395.     447.   117.     356     329.    221.
##  7  1925     575.     462.     228.     329.    87.5    353.    529.    252.
##  8  1926     547.     308.     367      547.    91.1    366.    512.    241.
##  9  1927     445.     345.     433.     574.   104.     423.    446     240.
## 10  1928     567.     272.     440.     612.   131.     384.    408.    253.
## # ... with 92 more rows</code></pre>
</div>
</div>
<div id="binding-join-verbs" class="section level3 hasAnchor" number="4.4.4">
<h3><span class="header-section-number">4.4.4</span> Binding Join Verbs<a href="data-transformation-2-more-one-and-two-table-verbs.html#binding-join-verbs" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>In contrast to mutating join verbs, binding join verbs simply combine tables without any need for matching. Dplyr provides <code>bind_rows()</code> and <code>bind_cols()</code> for combining tables by row and column respectively. When row binding, missing columns are replaced by <code>NA</code> values. When column binding, if the tables do not match by appropriate dimensions, an error will result.</p>
<div id="bind_rows" class="section level4 hasAnchor" number="4.4.4.1">
<h4><span class="header-section-number">4.4.4.1</span> bind_rows()<a href="data-transformation-2-more-one-and-two-table-verbs.html#bind_rows" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p><code>bind_rows()</code> is ideal when you have more entries of the same kind of data, i.e. new observations of the same variables. (For example; you have a new batch of participants answering the same questionnaire; or you have new air pollution data from a different geographic region… same variables - different observations)</p>
<p>Lets split some data</p>
<div class="sourceCode" id="cb237"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb237-1"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb237-1" aria-hidden="true" tabindex="-1"></a>Sun_Season_1 <span class="ot">&lt;-</span> wos_seasonal_sun <span class="sc">%&gt;%</span></span>
<span id="cb237-2"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb237-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(year <span class="sc">&gt;=</span> <span class="dv">1970</span>)</span>
<span id="cb237-3"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb237-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb237-4"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb237-4" aria-hidden="true" tabindex="-1"></a>Sun_Season_2 <span class="ot">&lt;-</span> wos_seasonal_sun <span class="sc">%&gt;%</span></span>
<span id="cb237-5"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb237-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(year <span class="sc">&lt;</span> <span class="dv">1970</span>)</span></code></pre></div>
<p>Now we have 2 indetical tables for seasonal sunshine in the west of Scotland, but for different sets of years. All the same variables, but totally different observations.</p>
<p>We can easily join these together with <code>bind_rows</code> to create a complete history.</p>
<div class="sourceCode" id="cb238"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb238-1"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb238-1" aria-hidden="true" tabindex="-1"></a>Bind_1 <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(Sun_Season_1, Sun_Season_2)</span>
<span id="cb238-2"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb238-2" aria-hidden="true" tabindex="-1"></a>Bind_1</span></code></pre></div>
<pre><code>## # A tibble: 102 x 5
##     year   win   spr   sum   aut
##    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
##  1  1970  158.  385.  474.  202.
##  2  1971  115.  424.  475.  269 
##  3  1972  113.  380.  480.  282.
##  4  1973  116.  418.  444.  250 
##  5  1974  110.  471.  480.  244 
##  6  1975  130.  517.  561.  218.
##  7  1976  110.  343.  588.  213 
##  8  1977  156.  431.  599.  226.
##  9  1978  159.  394.  412.  192.
## 10  1979  155.  383.  403.  223.
## # ... with 92 more rows</code></pre>
<p><code>bind_rows()</code> takes the second table <code>Sun_Season_2</code> and puts it <em>directly underneath</em> the first table <code>Sun_Season_1</code>.</p>
<p>What happens if we attempt to bind tables with different dimensions</p>
<div class="sourceCode" id="cb240"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb240-1"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb240-1" aria-hidden="true" tabindex="-1"></a>Bind_2 <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(Sun_Season_1, inner)</span>
<span id="cb240-2"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb240-2" aria-hidden="true" tabindex="-1"></a>Bind_2</span></code></pre></div>
<pre><code>## # A tibble: 148 x 7
##     year   win   spr   sum   aut sum_sun sum_rain
##    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt;    &lt;dbl&gt;
##  1  1970  158.  385.  474.  202.      NA       NA
##  2  1971  115.  424.  475.  269       NA       NA
##  3  1972  113.  380.  480.  282.      NA       NA
##  4  1973  116.  418.  444.  250       NA       NA
##  5  1974  110.  471.  480.  244       NA       NA
##  6  1975  130.  517.  561.  218.      NA       NA
##  7  1976  110.  343.  588.  213       NA       NA
##  8  1977  156.  431.  599.  226.      NA       NA
##  9  1978  159.  394.  412.  192.      NA       NA
## 10  1979  155.  383.  403.  223.      NA       NA
## # ... with 138 more rows</code></pre>
<p>Notice that the <code>bind_rows()</code> does not “care” if it duplicates rows, here we have repeat years. Also <code>bind_rows()</code> does not “care” that there are columns that do not match between the tables, here <code>NA</code> is added fill the missing space.</p>
</div>
<div id="bind_cols" class="section level4 hasAnchor" number="4.4.4.2">
<h4><span class="header-section-number">4.4.4.2</span> bind_cols()<a href="data-transformation-2-more-one-and-two-table-verbs.html#bind_cols" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p><code>bind_cols()</code> is similar to our mutating join verbs in that it creates a new table by joining columns (or variables) together. However, note that <code>bind_cols()</code> does not perform any kind of row-wise matching when joining tables.</p>
<div class="sourceCode" id="cb242"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb242-1"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb242-1" aria-hidden="true" tabindex="-1"></a>Bind_3 <span class="ot">&lt;-</span> <span class="fu">bind_cols</span>(wos_monthly_sun, wos_seasonal_sun)</span></code></pre></div>
<pre><code>## New names:
## * year -&gt; year...1
## * year -&gt; year...15</code></pre>
<p><code>bind_cols()</code>takes <code>wos_seasonal_sun</code> and puts it <em>right next</em> to <code>wos_monthly_sun</code>. Since the column name <code>year</code> is in both tables they get called <code>year..1</code> and <code>year...15</code> after their respective column number to differentiate them.</p>
<p>What happens if we attempt to bind tables with different dimensions</p>
<div class="sourceCode" id="cb244"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb244-1"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb244-1" aria-hidden="true" tabindex="-1"></a>Bind_4 <span class="ot">&lt;-</span> <span class="fu">bind_cols</span>(Summer_Sun, Summer_Rain)</span></code></pre></div>
<pre><code>## Error in `bind_cols()`:
## ! Can&#39;t recycle `..1` (size 102) to match `..2` (size 154).</code></pre>
<p>You simply get an error</p>
<div class="funfact">
<p>
By the way, you can merge as many data objects as you like with the
binding functions, whereas in the join functions, you are limited to
two. However, you could use a pipe to combine the merged dataframe with
a third.
</p>
<p>
example 1: bind_rows(data1, data2, data3) <br> example 2:
full_join(data1, data2) %&gt;% full_join(data3)
</p>
</div>
<p>Just to further clarify the differences between <code>bind_cols()</code> and the mutating joing verbs, lets look at how they would deal with the same challenge</p>
<p>First lets create a new table for winter sun data, but lets arrange it by “win”, so that rather than being in order of <code>year</code>, it is in order of most sunshine. This will have the same dimensions as the Summer_Sun table but a totally different order</p>
<div class="sourceCode" id="cb246"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb246-1"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb246-1" aria-hidden="true" tabindex="-1"></a>Winter_Sun <span class="ot">&lt;-</span> wos_seasonal_sun <span class="sc">%&gt;%</span> </span>
<span id="cb246-2"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb246-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(year, win) <span class="sc">%&gt;%</span></span>
<span id="cb246-3"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb246-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(win))</span>
<span id="cb246-4"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb246-4" aria-hidden="true" tabindex="-1"></a>Winter_Sun</span></code></pre></div>
<pre><code>## # A tibble: 102 x 2
##     year   win
##    &lt;dbl&gt; &lt;dbl&gt;
##  1  1963  204.
##  2  2018  170.
##  3  2003  169.
##  4  2001  166 
##  5  1965  165 
##  6  2004  163.
##  7  1978  159.
##  8  1968  159.
##  9  1970  158.
## 10  1996  156.
## # ... with 92 more rows</code></pre>
<p>Now lets try joining Winter_Sun and Summer_Sun using the two different methods</p>
<div class="sourceCode" id="cb248"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb248-1"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb248-1" aria-hidden="true" tabindex="-1"></a>Comparison_1 <span class="ot">&lt;-</span> <span class="fu">bind_cols</span>(Summer_Sun, Winter_Sun)</span></code></pre></div>
<pre><code>## New names:
## * year -&gt; year...1
## * year -&gt; year...3</code></pre>
<div class="sourceCode" id="cb250"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb250-1"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb250-1" aria-hidden="true" tabindex="-1"></a>Comparison_2 <span class="ot">&lt;-</span> <span class="fu">left_join</span>(Summer_Sun, Winter_Sun, <span class="st">&quot;year&quot;</span>)</span>
<span id="cb250-2"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb250-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb250-3"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb250-3" aria-hidden="true" tabindex="-1"></a>Comparison_1</span></code></pre></div>
<pre><code>## # A tibble: 102 x 4
##    year...1   sum year...3   win
##       &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt; &lt;dbl&gt;
##  1     1919  524.     1963  204.
##  2     1920  411.     2018  170.
##  3     1921  509      2003  169.
##  4     1922  385.     2001  166 
##  5     1923  327.     1965  165 
##  6     1924  329.     2004  163.
##  7     1925  529.     1978  159.
##  8     1926  512.     1968  159.
##  9     1927  446      1970  158.
## 10     1928  408.     1996  156.
## # ... with 92 more rows</code></pre>
<div class="sourceCode" id="cb252"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb252-1"><a href="data-transformation-2-more-one-and-two-table-verbs.html#cb252-1" aria-hidden="true" tabindex="-1"></a>Comparison_2</span></code></pre></div>
<pre><code>## # A tibble: 102 x 3
##     year   sum   win
##    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
##  1  1919  524.  NA  
##  2  1920  411. 111. 
##  3  1921  509  104. 
##  4  1922  385. 102. 
##  5  1923  327.  77.2
##  6  1924  329. 117. 
##  7  1925  529.  87.5
##  8  1926  512.  91.1
##  9  1927  446  104. 
## 10  1928  408. 131. 
## # ... with 92 more rows</code></pre>
<div class="info">
<p>
Using bind_cols() simply “copy and pasted” the two tables together,
the fact that the rows were in different orders did not matter. On the
other hand, using left_join() meant that R compared the content of
“year” and matched them up, ignoring the fact that Winter_Sun was in a
different arrangement.
</p>
</div>
</div>
</div>
</div>
<div id="additional-information" class="section level2 hasAnchor" number="4.5">
<h2><span class="header-section-number">4.5</span> Additional information<a href="data-transformation-2-more-one-and-two-table-verbs.html#additional-information" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Garrick Aden-Buie created some amazing gganimation gif to illustrate how the joins work. Check it out! <a href="https://www.garrickadenbuie.com/project/tidyexplain/" class="uri">https://www.garrickadenbuie.com/project/tidyexplain/</a></p>
</div>
<div id="summative-homework-1" class="section level2 hasAnchor" number="4.6">
<h2><span class="header-section-number">4.6</span> Summative Homework<a href="data-transformation-2-more-one-and-two-table-verbs.html#summative-homework-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The second summative assignment is available on moodle now.</p>
<p>Good luck.</p>
<p>Check that your Rmd file knits into a html file before submitting. Upload your Rmd file (not the knitted html) to moodle.</p>

</div>
</div>
<script>

/* update total correct if #webex-total_correct exists */
update_total_correct = function() {
  console.log("webex: update total_correct");

  if (t = document.getElementById("webex-total_correct")) {
    var correct = document.getElementsByClassName("webex-correct").length;
    var solvemes = document.getElementsByClassName("webex-solveme").length;
    var radiogroups = document.getElementsByClassName("webex-radiogroup").length;
    var selects = document.getElementsByClassName("webex-select").length;
    
    t.innerHTML = correct + " of " + (solvemes + radiogroups + selects) + " correct";
  }
}

/* webex-solution button toggling function */
b_func = function() {
  console.log("webex: toggle hide");
  
  var cl = this.parentElement.classList;
  if (cl.contains('open')) {
    cl.remove("open");
  } else {
    cl.add("open");
  }
}

/* function for checking solveme answers */
solveme_func = function(e) {
  console.log("webex: check solveme");

  var real_answers = JSON.parse(this.dataset.answer);
  var my_answer = this.value;
  var cl = this.classList;
  if (cl.contains("ignorecase")) {
    my_answer = my_answer.toLowerCase();
  }
  if (cl.contains("nospaces")) {
    my_answer = my_answer.replace(/ /g, "")
  }

  if (my_answer == "") {
    cl.remove("webex-correct");
    cl.remove("webex-incorrect");
  } else if (real_answers.includes(my_answer)) {
    cl.add("webex-correct");
    cl.remove("webex-incorrect");
  } else {
    cl.add("webex-incorrect");
    cl.remove("webex-correct");
  }

  // match numeric answers within a specified tolerance
  if(this.dataset.tol > 0){
    var tol = JSON.parse(this.dataset.tol);
    var matches = real_answers.map(x => Math.abs(x - my_answer) < tol)
    if (matches.reduce((a, b) => a + b, 0) > 0) {
      cl.add("webex-correct");
    } else {
      cl.remove("webex-correct");
    }
  }

  // added regex bit
  if (cl.contains("regex")){
    answer_regex = RegExp(real_answers.join("|"))
    if (answer_regex.test(my_answer)) {
      cl.add("webex-correct");
    }
  }

  update_total_correct();
}

/* function for checking select answers */
select_func = function(e) {
  console.log("webex: check select");
  
  var cl = this.classList
  
  /* add style */
  cl.remove("webex-incorrect");
  cl.remove("webex-correct");
  if (this.value == "answer") {
    cl.add("webex-correct");
  } else if (this.value != "blank") {
    cl.add("webex-incorrect");
  }
  
  update_total_correct();
}

/* function for checking radiogroups answers */
radiogroups_func = function(e) {
  console.log("webex: check radiogroups");

  var checked_button = document.querySelector('input[name=' + this.id + ']:checked');
  var cl = checked_button.parentElement.classList;
  var labels = checked_button.parentElement.parentElement.children;
  
  /* get rid of styles */
  for (i = 0; i < labels.length; i++) {
    labels[i].classList.remove("webex-incorrect");
    labels[i].classList.remove("webex-correct");
  }
  
  /* add style */
  if (checked_button.value == "answer") {
    cl.add("webex-correct");
  } else {
    cl.add("webex-incorrect");
  }
  
  update_total_correct();
}

window.onload = function() {
  console.log("onload");
  /* set up solution buttons */
  var buttons = document.getElementsByTagName("button");

  for (var i = 0; i < buttons.length; i++) {
    if (buttons[i].parentElement.classList.contains('webex-solution')) {
      buttons[i].onclick = b_func;
    }
  }

  /* set up webex-solveme inputs */
  var solveme = document.getElementsByClassName("webex-solveme");

  for (var i = 0; i < solveme.length; i++) {
    /* make sure input boxes don't auto-anything */
    solveme[i].setAttribute("autocomplete","off");
    solveme[i].setAttribute("autocorrect", "off");
    solveme[i].setAttribute("autocapitalize", "off");
    solveme[i].setAttribute("spellcheck", "false");
    solveme[i].value = "";

    /* adjust answer for ignorecase or nospaces */
    var cl = solveme[i].classList;
    var real_answer = solveme[i].dataset.answer;
    if (cl.contains("ignorecase")) {
      real_answer = real_answer.toLowerCase();
    }
    if (cl.contains("nospaces")) {
      real_answer = real_answer.replace(/ /g, "");
    }
    solveme[i].dataset.answer = real_answer;

    /* attach checking function */
    solveme[i].onkeyup = solveme_func;
    solveme[i].onchange = solveme_func;
  }
  
  /* set up radiogroups */
  var radiogroups = document.getElementsByClassName("webex-radiogroup");
  for (var i = 0; i < radiogroups.length; i++) {
    radiogroups[i].onchange = radiogroups_func;
  }
  
  /* set up selects */
  var selects = document.getElementsByClassName("webex-select");
  for (var i = 0; i < selects.length; i++) {
    selects[i].onchange = select_func;
  }

  update_total_correct();
}

</script>

            </section>

          </div>
        </div>
      </div>
<a href="data-transformation-1-basic-one-table-verbs.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="data-transformation-3-tidy-data.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
